<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>html/tmod/svp/coreLib.min.20150615.js - Documenting JavaScript with YUIDoc</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Documenting JavaScript with YUIDoc" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/BaseApi.html">BaseApi</a></li>
                                <li><a href="../classes/CityApi.html">CityApi</a></li>
                                <li><a href="../classes/clientInfo.html">clientInfo</a></li>
                                <li><a href="../classes/clientUI.html">clientUI</a></li>
                                <li><a href="../classes/detailModules.html">detailModules</a></li>
                                <li><a href="../classes/IndexApi.html">IndexApi</a></li>
                                <li><a href="../classes/listModules.html">listModules</a></li>
                                <li><a href="../classes/phoneSlide.html">phoneSlide</a></li>
                                <li><a href="../classes/Platform.html">Platform</a></li>
                                <li><a href="../classes/testModules.html">testModules</a></li>
                                <li><a href="../classes/userCenter.html">userCenter</a></li>
                                <li><a href="../classes/Utils.html">Utils</a></li>
                                <li><a href="../classes/Widget.html">Widget</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/api.html">api</a></li>
                                <li><a href="../modules/client.html">client</a></li>
                                <li><a href="../modules/device.html">device</a></li>
                                <li><a href="../modules/modules.html">modules</a></li>
                                <li><a href="../modules/nativeUI.html">nativeUI</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: html/tmod/svp/coreLib.min.20150615.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/** m.tv.sohu.com, time 20150615 15:24:27, sohu inc */
svp.define(&quot;base.action&quot;,function(require,exports,module){&quot;use strict&quot;;var $=svp.$,vars=require(&quot;base.vars&quot;),URL=require(&quot;base.url&quot;),cookie=require(&quot;base.cookie&quot;),Storage=require(&quot;base.store&quot;),clickTrace=require(&quot;trace.click&quot;),download=require(&quot;data.appDownload&quot;),Console=require(&quot;base.console&quot;),Action={URLProtocol:&quot;sohuvideo&quot;+(vars.IsIpad?&quot;hd&quot;:&quot;&quot;)+&quot;://&quot;,openTime:vars.IsIOS?800:1e3,appChanneled:1000120001,maxEffectiveTime:72e5,appPortArr:[&quot;23456&quot;,&quot;23457&quot;],appInfoReqCounts:0,URLGlobalParams:{},openIos:function(a,b){if(a){Console.log(&quot;发送行为统计点: app2_ios_action&quot;),clickTrace.pingback(null,&quot;app2_ios_action&quot;);var c=document.createElement(&quot;iframe&quot;);c.style.display=&quot;none&quot;;var d,e=document.body,f=function(a,d){b&amp;&amp;&quot;function&quot;==typeof b&amp;&amp;b(d),window.removeEventListener(&quot;pagehide&quot;,g,!0),window.removeEventListener(&quot;pageshow&quot;,g,!0),c&amp;&amp;(c.onload=null,e.removeChild(c),c=null)},g=function(a){clearTimeout(d),f(a,!1)};window.addEventListener(&quot;pagehide&quot;,g,!0),window.addEventListener(&quot;pageshow&quot;,g,!0),c.onload=f,c.src=a,e.appendChild(c);var h=+new Date;d=setTimeout(function(){d=setTimeout(function(){var a=+new Date;h-a&gt;1300?f(null,!1):f(null,!0)},1200)},60)}},openAndroid:function(a,b,c){if(a){-1===a.indexOf(&quot;svawebsocket&quot;)&amp;&amp;(Console.log(&quot;发送行为统计点: app1_android_action&quot;),clickTrace.pingback(null,&quot;app1_android_action&quot;));var d=URL.getQueryData(location.search.substring(1)),e=!1,f=!1;if(&quot;undefined&quot;!=typeof c&amp;&amp;(&quot;click&quot;===c&amp;&amp;(e=!0),&quot;try&quot;===c&amp;&amp;(f=!0)),d.startClient&amp;&amp;&quot;1&quot;===d.startClient&amp;&amp;d.clientType||!f&amp;&amp;(d.startClient&amp;&amp;&quot;2&quot;!==d.startClient||e)&amp;&amp;Action.isIntentList()&amp;&amp;!/UCBrowser/i.test(vars.UA)&amp;&amp;-1===a.indexOf(&quot;svawebsocket&quot;))window.location.href=a;else{var g=document.createElement(&quot;iframe&quot;);g.style.display=&quot;none&quot;,g.src=a;var h=document.body;h.appendChild(g),setTimeout(function(){h.removeChild(g),g.onload=null,g=null},200)}b&amp;&amp;&quot;function&quot;==typeof b&amp;&amp;b()}},isIntentList:function(){var a=!1;return vars.IsAndroid&amp;&amp;/(SAMSUNG[\s\-_]+)?SM[\s\-_]+(N90|G90|T|P6)+|Nexus/i.test(vars.UA)&amp;&amp;(a=!0),a},isForceIntent:function(){var a=!1;return vars.IsAndroid&amp;&amp;this.isIntentList()&amp;&amp;!/UCBrowser/i.test(vars.UA)&amp;&amp;!/QQBrowser/i.test(vars.UA)&amp;&amp;(a=!0),a},getAppChanneled:function(){var a=window.VideoData||window.videoData||{},b=URL.getQueryString(&quot;channeled&quot;)||a.channeled||Action.appChanneled,c=window.location.href||&quot;http://m.tv.sohu.com/&quot;;try{(c.indexOf(&quot;hots&quot;)&gt;-1||c.indexOf(&quot;/x&quot;)&gt;-1)&amp;&amp;(b=a.channeled||URL.getQueryString(&quot;channeled&quot;)||Action.appChanneled)}catch(d){b=Action.appChanneled,Console.log(d)}return b},makeActionParam:function(a){var b={};return b.action=a.action,-1!==$([&quot;71&quot;,&quot;72&quot;,&quot;73&quot;,&quot;74&quot;,&quot;75&quot;,&quot;76&quot;]).indexOf(a.cid)&amp;&amp;(a.cid=&quot;28&quot;,a.cateCode=&quot;9009&quot;),&quot;1.1&quot;===b.action&amp;&amp;(b.sid=a.sid,b.cid=a.cid,b.cateCode=a.cateCode,b.enterid=a.enterid,b.site=a.site,b.dataType=a.dataType||&quot;&quot;,a.vid&amp;&amp;&quot;&quot;!==a.vid&amp;&amp;(b.vid=a.vid),a.ex1&amp;&amp;&quot;1&quot;!==a.ex1&amp;&amp;&quot;&quot;!==a.ex1&amp;&amp;(b.ex1=a.ex1),a.ex2&amp;&amp;&quot;&quot;!==a.ex2&amp;&amp;(b.ex2=a.ex2),a.ex3&amp;&amp;&quot;&quot;!==a.ex3&amp;&amp;(b.ex3=a.ex3),a.appname&amp;&amp;&quot;&quot;!==a.appname&amp;&amp;&quot;none&quot;!==a.appname?b.appname=a.appname:b.backpage=&quot;0&quot;,a.more&amp;&amp;!vars.IsIOS&amp;&amp;(b.more=a.more),vars.IsWindowsPhone&amp;&amp;(b.site=a.site)),(&quot;1.2&quot;===b.action||&quot;2.4&quot;===b.action)&amp;&amp;(vars.IsIOS?(b.action=&quot;2.4&quot;,b.ex1=a.ex1,window.location.href.indexOf(&quot;/hots&quot;)&gt;-1?(b.cid=a.cid,b.ex2=a.ex2):(b.cid=a.cateCode,b.ex2=a.cid)):(b.action=&quot;1.2&quot;,b.cid=a.cid,b.cateCode=a.cateCode)),&quot;1.17&quot;===b.action&amp;&amp;(b.ex1=a.ex1,&quot;1&quot;===a.ex1?(b.vid=a.vid,b.cid=a.cid):&quot;3&quot;===a.ex1&amp;&amp;(b.ex2=a.ex2,b.ex3=a.ex3)),&quot;1.18&quot;===b.action&amp;&amp;(b.urls=a.urls,&quot;&quot;!==a.share&amp;&amp;(b.share=a.share),&quot;&quot;!==a.ex1&amp;&amp;(b.ex1=a.ex1),&quot;&quot;!==a.ex2&amp;&amp;(b.ex2=a.ex2),&quot;&quot;!==a.ex3&amp;&amp;(b.ex3=a.ex3),&quot;&quot;!==a.bit0&amp;&amp;(b.bit0=a.bit0),&quot;&quot;!==a.bit1&amp;&amp;(b.bit1=a.bit1)),&quot;1.21&quot;===b.action&amp;&amp;(b.more=a.more,b.type=a.type),b.more={sourcedata:{enterid:a.enterid||&quot;4&quot;,channeled:a.channeled,preid:window.location.href}},$.extend(!0,b.more,a.more),b.more=JSON.stringify(b.more),b},formatArgs:function(a){var b=a.cateCode||&quot;&quot;,c=a.channeled||this.getAppChanneled();b=b.toString().split(&quot;,&quot;)[0]||&quot;&quot;,b=b.split(&quot;;&quot;)[0]||&quot;&quot;;var d={action:a.action||&quot;1.1&quot;,vid:a.vid||&quot;&quot;,sid:a.sid||&quot;&quot;,cid:a.cid||&quot;&quot;,cateCode:b,dataType:a.dataType||&quot;&quot;,share:a.share||&quot;&quot;,urls:a.urls||&quot;&quot;,ex1:a.ex1||&quot;1&quot;,ex2:a.ex2||&quot;&quot;,ex3:a.ex3||&quot;&quot;,site:a.site||&quot;&quot;,enterid:&quot;4_&quot;+c+&quot;_&quot;+download.channelSrc,bit0:a.bit0||&quot;&quot;,bit1:a.bit1||&quot;&quot;,type:a.type||6,appname:&quot;none&quot;,channeled:c,more:a.more||{}};return&quot;1.1&quot;===a.action&amp;&amp;(9001===a.cid||&quot;2&quot;===a.site)&amp;&amp;(d.ex3=2,d.site=&quot;2&quot;),d},makeActionUrl:function(a){var b=this.formatArgs(a),c=this.makeActionParam(b),d=&quot;&quot;,e=this.URLGlobalParams,f=&quot;&quot;;return f=e.clientType&amp;&amp;&quot;1&quot;===e.startClient||!cookie.test()?&quot;sohuvideo&quot;:&quot;1&quot;===e.startClient||this.isForceIntent()?&quot;intent&quot;:&quot;sohuvideo&quot;,f.indexOf(&quot;intent&quot;)&gt;-1?(d=&quot;intent://&quot;,d+=&quot;?&quot;+URL.objToQueryString(c).replace(/index\.html%2C/,&quot;index.html&quot;),d+=&quot;#Intent;scheme=sohuvideo;package=com.sohu.sohuvideo;end&quot;,Console.log(&quot;android intent 1:&quot;,JSON.stringify(c))):(d=Action.URLProtocol,d+=&quot;action.cmd&quot;,d+=&quot;?&quot;+URL.objToQueryString(c).replace(/index\.html%2C/,&quot;index.html&quot;),Console.log(&quot;sohovideo:&quot;,JSON.stringify(c))),Console.log(&quot;makeActionUrl : &quot;+d),d},getIframe:function(){var a=$(&quot;#j_redirectNativeFrame&quot;);return 0===a.length&amp;&amp;(a=$(&#x27;&lt;iframe id=&quot;j_redirectNativeFrame&quot; style=&quot;display:none&quot;&gt;&lt;/iframe&gt;&#x27;),$(&quot;body&quot;).append(a)),a},sendAction:function(a,b){&quot;&quot;!==download.channelSrc&amp;&amp;&quot;0&quot;!==download.channelSrc&amp;&amp;(Console.log(&quot;发送行为统计点: app_channel_action&quot;),clickTrace.pingback(null,&quot;app_channel_action&quot;));var c=this.makeActionUrl(a),d=URL.getQueryData(location.search.substring(1));if(&quot;1&quot;===d.startClient&amp;&amp;(Console.log(&quot;发送行为统计点: appdownload_jump1&quot;),clickTrace.pingback(null,&quot;appdownload_jump1&quot;)),&quot;2&quot;===d.startClient&amp;&amp;(Console.log(&quot;发送行为统计点: appdownload_jump2&quot;),clickTrace.pingback(null,&quot;appdownload_jump2&quot;)),a.isHike&amp;&amp;(Console.log(&quot;发送行为统计点: appdownload_jump0&quot;),clickTrace.pingback(null,&quot;appdownload_jump0&quot;)),vars.IsAndroid)&quot;undefined&quot;!=typeof a.type?this.openAndroid(c,b,a.type):this.openAndroid(c,b);else if(vars.IsIOS)this.openIos(c,b);else{Console.log(&quot;发送行为统计点: app3_others_action&quot;),clickTrace.pingback(null,&quot;app3_others_action&quot;);var e=this.getIframe();e.attr(&quot;src&quot;,c)}},updateGlobalParams:function(a,b){var c,d=$(&quot;a[href],form&quot;,a),e=d.length;for(b=b||Action.URLGlobalParams;e--;)c=d.get(e),URL.setQueryString(c,b)},parserUrls:function(){Action.URLGlobalParams.clientType||Action.URLGlobalParams.actionVer||URL.setQueryString(this,{startClient:1});for(var a,b=[&quot;clientType&quot;,&quot;clientVer&quot;,&quot;actionVer&quot;,&quot;startClient&quot;,&quot;actionId&quot;,&quot;player&quot;,&quot;vid&quot;,&quot;vids&quot;,&quot;site&quot;,&quot;srcUrl&quot;,&quot;poster&quot;,&quot;title&quot;],c=b.length,d=URL.getQueryData(location.search.substring(1)),e={};c--;)a=b[c],d.hasOwnProperty(a)&amp;&amp;d[a]&amp;&amp;(e[a]=d[a]);Action.URLGlobalParams=e},channelSrcInit:function(){return download.channelSrc=URL.getQueryString(&quot;src&quot;)||URL.getQueryString(&quot;SRC&quot;)||cookie.get(&quot;MTV_SRC&quot;)||&quot;0&quot;,download.channelSrc=download.channelSrc.replace(&quot;|&quot;,&quot;&quot;).replace(&quot;%7C&quot;,&quot;&quot;),download.channelSrc.length&gt;4&amp;&amp;(download.channelSrc=download.channelSrc.substr(0,4)),download.channelSrc=parseInt(download.channelSrc,10),isNaN(download.channelSrc)&amp;&amp;(download.channelSrc=&quot;0&quot;),download.channelSrc},init:function(){this.parserUrls(),this.channelSrcInit(),Action.bindAction()},addIosMeta:function(){var a,b,c=document.createElement(&quot;meta&quot;),d=&quot;&quot;;vars.IsIOS&amp;&amp;(vars.IsIphone&amp;&amp;(d=&quot;app-id=458587755&quot;,d+=&quot;, app-argument=sohuvideo://action.cmd &quot;,d+=&quot;, affiliate-data=mt=8&quot;,c.setAttribute(&quot;content&quot;,d),c.setAttribute(&quot;name&quot;,&quot;apple-itunes-app&quot;),a=document.getElementsByTagName(&quot;meta&quot;),b=a[0].parentNode,b.appendChild(c)),vars.IsIpad&amp;&amp;(d=&quot;app-id=414430589&quot;,d+=&quot;, app-argument=sohuvideo://action.cmd &quot;,d+=&quot;, affiliate-data=mt=8&quot;,c.setAttribute(&quot;content&quot;,d),c.setAttribute(&quot;name&quot;,&quot;apple-itunes-app&quot;),a=document.getElementsByTagName(&quot;meta&quot;),b=a[0].parentNode,b.appendChild(c)))},isEnableWebSocket:function(){var a=URL.getQueryData(location.search.substring(1)),b=!0,c=window.VideoData||window.videoData;return location.href.match(/player=1/i)||document.referrer.indexOf(&quot;m.sohu.com&quot;)&gt;-1?b=!1:&quot;undefined&quot;!=typeof c&amp;&amp;&quot;undefined&quot;!=typeof c.hike&amp;&amp;&quot;1&quot;===c.hike&amp;&amp;(b=!0),&quot;undefined&quot;!=typeof a.startClient&amp;&amp;(b=&quot;2&quot;===a.startClient&amp;&amp;this.isIntentList()?!1:!0),(&quot;undefined&quot;==typeof c||&quot;undefined&quot;!=typeof c&amp;&amp;&quot;1&quot;===c.mobileLimit||!/^(m|t\.m)\.tv\.sohu\.com$|^192\.168\.199\.186:85$/i.test(window.location.host)||!cookie.test())&amp;&amp;(b=!1),b},parserAttributes:function(data,el){for(var videoParmsKeys=[&quot;vid&quot;,&quot;cid&quot;,&quot;sid&quot;,&quot;plid&quot;,&quot;cateCode&quot;,&quot;site&quot;],c=videoParmsKeys.length,URLParms=Action.URLGlobalParams,vd=data||window.VideoData||window.videoData||{},args={};c--;){var key=videoParmsKeys[c];vd&amp;&amp;vd[key]&amp;&amp;(args[key]=vd[key]),URLParms&amp;&amp;URLParms.hasOwnProperty(key)&amp;&amp;URLParms[key]&amp;&amp;(args[key]=URLParms[key])}&quot;undefined&quot;!=typeof args.site&amp;&amp;(args.site=args.site+&quot;&quot;);var channeled=URLParms.channeled||this.getAppChanneled();channeled=channeled.toString().replace(&quot;|&quot;,&quot;&quot;).replace(&quot;%7C&quot;,&quot;&quot;);var vid=args.vid||&quot;&quot;,sch=Action.URLProtocol,downUrl=args.downUrl||&quot;&quot;,actionId=args.actionId||args.actionVer||&quot;1.17&quot;;if(&quot;undefined&quot;!=typeof el){el=$(el),channeled=el.attr(&quot;channeled&quot;)||channeled,vid=el.attr(&quot;vid&quot;)||vid;var _sch=el.attr(&quot;data-scheme&quot;);_sch&amp;&amp;(sch=_sch.toLowerCase()),downUrl=el.attr(&quot;data-downUrl&quot;)||el.attr(&quot;data-downurl&quot;)||downUrl,actionId=el.attr(&quot;actionId&quot;)||el.attr(&quot;actionid&quot;)||&quot;1.17&quot;,args.action=actionId,args.vid=vid,args.channeled=channeled,args.scheme=sch,args.downUrl=downUrl,args.enterid=&quot;4_&quot;+channeled;try{var _params=eval(el.attr(&quot;data-params&quot;))||[];for(var i in _params){var jsonObj=_params[i]||{};jsonObj&amp;&amp;$.extend(!0,args,jsonObj)}}catch(e){Console.log(e)}}return vd.site&amp;&amp;&quot;2&quot;===vd.site?args.ex3=&quot;2&quot;:args.ex1=&quot;1&quot;,args.action=actionId,args=this.formatArgs(args),args.scheme=sch,args.downUrl=downUrl,Console.log(&quot;parserAttributes:&quot;,JSON.stringify(args)),args},autoStartClient:function(){var a=!0,b=window.VideoData||window.videoData;this.isEnableWebSocket()||(a=!1),this.isIntentList()&amp;&amp;(a=!1),vars.IsWeixinBrowser&amp;&amp;(a=!1),&quot;undefined&quot;!=typeof b&amp;&amp;&quot;0&quot;===b.tabCard&amp;&amp;(a=!1),window.location.href.match(/player=1/i)&amp;&amp;(a=!1),&quot;0&quot;===this.URLGlobalParams.startClient&amp;&amp;(a=!1);var c=Action.parserAttributes();c.action=&quot;1.1&quot;,c.type=&quot;try&quot;,download.getChannelInfo(null,function(b){a&amp;&amp;&quot;0&quot;===b.startapp&amp;&amp;Action.sendAction(c)})},getAppInfo:function(a){var b=Storage.get(&quot;localAppInfo&quot;);Console.log(&quot;localAppInfo &quot;,b),b&amp;&amp;b.time&amp;&amp;Date.now()-b.time&lt;this.maxEffectiveTime&amp;&amp;&quot;function&quot;==typeof a&amp;&amp;a(b)},bindAction:function(){Action.autoStartClient();var a=&quot;ontouchstart&quot;in window?&quot;touchend&quot;:&quot;mouseup&quot;;$(&quot;body&quot;).on(a,&quot;.actionLink&quot;,function(){var a=this,b=window.VideoData||window.videoData||{},c=Action.parserAttributes(b,a);c.action=&quot;1.1&quot;,&quot;0&quot;!==download.channelSrc&amp;&amp;&quot;-2&quot;!==download.channelSrc?Action.sendAction(c):vars.IsIOS?Action.sendAction(c,function(){setTimeout(function(){download.gotoDownload()},2e3)}):vars.IsAndroid?Action.isForceIntent()?Action.sendAction(c):Action.getAppInfo(function(a){null===a?(setTimeout(function(){download.gotoDownload()},2e3),Action.sendAction(c)):Action.sendAction(c)}):Action.sendAction(c)})}};Action.init(),window.Action=Action,module.exports=Action}),svp.define(&quot;base.codec&quot;,function(a,b,c){&quot;use strict&quot;;var d=(svp.$,function(){var a=&quot;1.0.2&quot;,b=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;,c=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),d=function(a){var c,d,e,f,g,h;for(e=a.length,d=0,c=&quot;&quot;;e&gt;d;){if(f=255&amp;a.charCodeAt(d++),d==e){c+=b.charAt(f&gt;&gt;2),c+=b.charAt((3&amp;f)&lt;&lt;4),c+=&quot;==&quot;;break}if(g=a.charCodeAt(d++),d==e){c+=b.charAt(f&gt;&gt;2),c+=b.charAt((3&amp;f)&lt;&lt;4|(240&amp;g)&gt;&gt;4),c+=b.charAt((15&amp;g)&lt;&lt;2),c+=&quot;=&quot;;break}h=a.charCodeAt(d++),c+=b.charAt(f&gt;&gt;2),c+=b.charAt((3&amp;f)&lt;&lt;4|(240&amp;g)&gt;&gt;4),c+=b.charAt((15&amp;g)&lt;&lt;2|(192&amp;h)&gt;&gt;6),c+=b.charAt(63&amp;h)}return c},e=function(a){var b,d,e,f,g,h,i;for(h=a.length,g=0,i=&quot;&quot;;h&gt;g;){do b=c[255&amp;a.charCodeAt(g++)];while(h&gt;g&amp;&amp;-1==b);if(-1==b)break;do d=c[255&amp;a.charCodeAt(g++)];while(h&gt;g&amp;&amp;-1==d);if(-1==d)break;i+=String.fromCharCode(b&lt;&lt;2|(48&amp;d)&gt;&gt;4);do{if(e=255&amp;a.charCodeAt(g++),61==e)return i;e=c[e]}while(h&gt;g&amp;&amp;-1==e);if(-1==e)break;i+=String.fromCharCode((15&amp;d)&lt;&lt;4|(60&amp;e)&gt;&gt;2);do{if(f=255&amp;a.charCodeAt(g++),61==f)return i;f=c[f]}while(h&gt;g&amp;&amp;-1==f);if(-1==f)break;i+=String.fromCharCode((3&amp;e)&lt;&lt;6|f)}return i},f=function(a){var b,c,d,e;for(b=&quot;&quot;,d=a.length,c=0;d&gt;c;c++)e=a.charCodeAt(c),e&gt;=1&amp;&amp;127&gt;=e?b+=a.charAt(c):e&gt;2047?(b+=String.fromCharCode(224|e&gt;&gt;12&amp;15),b+=String.fromCharCode(128|e&gt;&gt;6&amp;63),b+=String.fromCharCode(128|e&gt;&gt;0&amp;63)):(b+=String.fromCharCode(192|e&gt;&gt;6&amp;31),b+=String.fromCharCode(128|e&gt;&gt;0&amp;63));return b},g=function(a){var b,c,d,e,f,g;for(b=&quot;&quot;,d=a.length,c=0;d&gt;c;)switch(e=a.charCodeAt(c++),e&gt;&gt;4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:b+=a.charAt(c-1);break;case 12:case 13:f=a.charCodeAt(c++),b+=String.fromCharCode((31&amp;e)&lt;&lt;6|63&amp;f);break;case 14:f=a.charCodeAt(c++),g=a.charCodeAt(c++),b+=String.fromCharCode((15&amp;e)&lt;&lt;12|(63&amp;f)&lt;&lt;6|(63&amp;g)&lt;&lt;0)}return b},h=function(a){for(var b=&quot;&quot;,c=0;c&lt;a.length;c++){var d=a.charCodeAt(c);128&gt;d?b+=String.fromCharCode(d):d&gt;127&amp;&amp;2048&gt;d?(b+=String.fromCharCode(d&gt;&gt;6|192),b+=String.fromCharCode(63&amp;d|128)):(b+=String.fromCharCode(d&gt;&gt;12|224),b+=String.fromCharCode(d&gt;&gt;6&amp;63|128),b+=String.fromCharCode(63&amp;d|128))}return b},i=function(a){for(var b=&quot;&quot;,c=0,d=c1=c2=0;c&lt;a.length;)d=a.charCodeAt(c),128&gt;d?(b+=String.fromCharCode(d),c++):d&gt;191&amp;&amp;224&gt;d?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&amp;d)&lt;&lt;6|63&amp;c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&amp;d)&lt;&lt;12|(63&amp;c2)&lt;&lt;6|63&amp;c3),c+=3);return b},j=function(a){var b=g(e(a));return b},k=function(a){var b=d(f(a));return b},l=function(a){for(var b=&quot;0x&quot;,c=new Array(&quot;0&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,&quot;e&quot;,&quot;f&quot;),d=0;d&lt;a.length;d++)b+=c[a.charCodeAt(d)&gt;&gt;4]+c[15&amp;a.charCodeAt(d)];return b},m=function(a){for(var b=&quot;&quot;,c=&quot;0x&quot;==a.substr(0,2)?2:0;c&lt;a.length;c+=2)b+=String.fromCharCode(parseInt(a.substr(c,2),16));return b},n=function(a,b){var c=(65535&amp;a)+(65535&amp;b),d=(a&gt;&gt;16)+(b&gt;&gt;16)+(c&gt;&gt;16);return d&lt;&lt;16|65535&amp;c},o=function(a,b){return a&lt;&lt;b|a&gt;&gt;&gt;32-b},p=function(a,b,c,d,e,f){return n(o(n(n(b,a),n(d,f)),e),c)},q=function(a,b,c,d,e,f,g){return p(b&amp;c|~b&amp;d,a,b,e,f,g)},r=function(a,b,c,d,e,f,g){return p(b&amp;d|c&amp;~d,a,b,e,f,g)},s=function(a,b,c,d,e,f,g){return p(b^c^d,a,b,e,f,g)},t=function(a,b,c,d,e,f,g){return p(c^(b|~d),a,b,e,f,g)},u=function(a,b){a[b&gt;&gt;5]|=128&lt;&lt;b%32,a[(b+64&gt;&gt;&gt;9&lt;&lt;4)+14]=b;var c,d,e,f,g,h=1732584193,i=-271733879,j=-1732584194,k=271733878;for(c=0;c&lt;a.length;c+=16)d=h,e=i,f=j,g=k,h=q(h,i,j,k,a[c],7,-680876936),k=q(k,h,i,j,a[c+1],12,-389564586),j=q(j,k,h,i,a[c+2],17,606105819),i=q(i,j,k,h,a[c+3],22,-1044525330),h=q(h,i,j,k,a[c+4],7,-176418897),k=q(k,h,i,j,a[c+5],12,1200080426),j=q(j,k,h,i,a[c+6],17,-1473231341),i=q(i,j,k,h,a[c+7],22,-45705983),h=q(h,i,j,k,a[c+8],7,1770035416),k=q(k,h,i,j,a[c+9],12,-1958414417),j=q(j,k,h,i,a[c+10],17,-42063),i=q(i,j,k,h,a[c+11],22,-1990404162),h=q(h,i,j,k,a[c+12],7,1804603682),k=q(k,h,i,j,a[c+13],12,-40341101),j=q(j,k,h,i,a[c+14],17,-1502002290),i=q(i,j,k,h,a[c+15],22,1236535329),h=r(h,i,j,k,a[c+1],5,-165796510),k=r(k,h,i,j,a[c+6],9,-1069501632),j=r(j,k,h,i,a[c+11],14,643717713),i=r(i,j,k,h,a[c],20,-373897302),h=r(h,i,j,k,a[c+5],5,-701558691),k=r(k,h,i,j,a[c+10],9,38016083),j=r(j,k,h,i,a[c+15],14,-660478335),i=r(i,j,k,h,a[c+4],20,-405537848),h=r(h,i,j,k,a[c+9],5,568446438),k=r(k,h,i,j,a[c+14],9,-1019803690),j=r(j,k,h,i,a[c+3],14,-187363961),i=r(i,j,k,h,a[c+8],20,1163531501),h=r(h,i,j,k,a[c+13],5,-1444681467),k=r(k,h,i,j,a[c+2],9,-51403784),j=r(j,k,h,i,a[c+7],14,1735328473),i=r(i,j,k,h,a[c+12],20,-1926607734),h=s(h,i,j,k,a[c+5],4,-378558),k=s(k,h,i,j,a[c+8],11,-2022574463),j=s(j,k,h,i,a[c+11],16,1839030562),i=s(i,j,k,h,a[c+14],23,-35309556),h=s(h,i,j,k,a[c+1],4,-1530992060),k=s(k,h,i,j,a[c+4],11,1272893353),j=s(j,k,h,i,a[c+7],16,-155497632),i=s(i,j,k,h,a[c+10],23,-1094730640),h=s(h,i,j,k,a[c+13],4,681279174),k=s(k,h,i,j,a[c],11,-358537222),j=s(j,k,h,i,a[c+3],16,-722521979),i=s(i,j,k,h,a[c+6],23,76029189),h=s(h,i,j,k,a[c+9],4,-640364487),k=s(k,h,i,j,a[c+12],11,-421815835),j=s(j,k,h,i,a[c+15],16,530742520),i=s(i,j,k,h,a[c+2],23,-995338651),h=t(h,i,j,k,a[c],6,-198630844),k=t(k,h,i,j,a[c+7],10,1126891415),j=t(j,k,h,i,a[c+14],15,-1416354905),i=t(i,j,k,h,a[c+5],21,-57434055),h=t(h,i,j,k,a[c+12],6,1700485571),k=t(k,h,i,j,a[c+3],10,-1894986606),j=t(j,k,h,i,a[c+10],15,-1051523),i=t(i,j,k,h,a[c+1],21,-2054922799),h=t(h,i,j,k,a[c+8],6,1873313359),k=t(k,h,i,j,a[c+15],10,-30611744),j=t(j,k,h,i,a[c+6],15,-1560198380),i=t(i,j,k,h,a[c+13],21,1309151649),h=t(h,i,j,k,a[c+4],6,-145523070),k=t(k,h,i,j,a[c+11],10,-1120210379),j=t(j,k,h,i,a[c+2],15,718787259),i=t(i,j,k,h,a[c+9],21,-343485551),h=n(h,d),i=n(i,e),j=n(j,f),k=n(k,g);return[h,i,j,k]},v=function(a){var b,c=&quot;&quot;;for(b=0;b&lt;32*a.length;b+=8)c+=String.fromCharCode(a[b&gt;&gt;5]&gt;&gt;&gt;b%32&amp;255);return c},w=function(a){var b,c=[];for(c[(a.length&gt;&gt;2)-1]=void 0,b=0;b&lt;c.length;b+=1)c[b]=0;for(b=0;b&lt;8*a.length;b+=8)c[b&gt;&gt;5]|=(255&amp;a.charCodeAt(b/8))&lt;&lt;b%32;return c},x=function(a){return v(u(w(a),8*a.length))},y=function(a,b){var c,d,e=w(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length&gt;16&amp;&amp;(e=u(e,8*a.length)),c=0;16&gt;c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=u(f.concat(w(b)),512+8*b.length),v(u(g.concat(d),640))},z=function(a){var b,c,d=&quot;0123456789abcdef&quot;,e=&quot;&quot;;for(c=0;c&lt;a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b&gt;&gt;&gt;4&amp;15)+d.charAt(15&amp;b);return e},A=function(a){return unescape(encodeURIComponent(a))},B=function(a){return x(A(a))},C=function(a){return z(B(a))},D=function(a,b){return y(A(a),A(b))},E=function(a,b){return z(D(a,b))},F=function(a,b,c){return b?c?D(b,a):E(b,a):c?B(a):C(a)};return{version:a,base64encodechars:b,base64decodechars:c,encode:d,decode:e,utf16to8:f,utf8to16:g,utf8Encode:h,utf8Decode:i,binl2rstr:v,rstr2binl:w,str2rstr_utf8:A,stringToHex:l,hexToString:m,decodeUtf8to16Data64:j,encodeUtf16to8Data64:k,md5:F}}());window.BaseCodec=d,c.exports=d}),svp.define(&quot;base.console&quot;,function(a,b,c){&quot;use strict&quot;;var d=a(&quot;base.vars&quot;),e={level:&quot;info&quot;,dateFormat:&quot;yyyyMMdd hh:mm:ss&quot;,DOM:null,line:&#x27;&lt;p class=&quot;Console-line&quot;&gt;&lt;/p&gt;&#x27;,tgt:&#x27;&lt;div id=&quot;Console-log&quot; style=&quot;-webkit-overflow-scrolling:touch;overflow:auto;line-height:1.5;z-index:5000;width:100%;font-size:11px;background:rgba(0,0,0,.8);color:#fff;bottom:0;-webkit-user-select: initial;&quot;&gt;&lt;/div&gt;&#x27;,style:&quot;&lt;style&gt;.Console-line{ margin-top:-1px;padding:.5em;border-top:1px solid rgba(255,255,255,.3);width:70% } .c_info .c_log { color:white; } .c_error { color:red; } .c_warn { color:yellow; } .c_debug { color:green; } &lt;/style&gt;&quot;,inited:!1},f={},g={};g.getType=function(a){var b,c=a;return(&quot;object&quot;==(b=typeof c)?null===c&amp;&amp;&quot;null&quot;||Object.prototype.toString.call(c).slice(8,-1):b).toLowerCase()},g.DateFormat=function(a,b){var c={&quot;M+&quot;:a.getMonth()+1,&quot;d+&quot;:a.getDate(),&quot;h+&quot;:a.getHours(),&quot;m+&quot;:a.getMinutes(),&quot;s+&quot;:a.getSeconds(),&quot;q+&quot;:Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};try{/(y+)/.test(b)&amp;&amp;(b=b.replace(RegExp.$1,(a.getFullYear()+&quot;&quot;).substr(4-RegExp.$1.length)));for(var d in c)new RegExp(&quot;(&quot;+d+&quot;)&quot;).test(b)&amp;&amp;(b=b.replace(RegExp.$1,1===RegExp.$1.length?c[d]:(&quot;00&quot;+c[d]).substr((&quot;&quot;+c[d]).length)))}catch(e){console.log(e)}return b},f.logObj=function(a){var b=a||&quot;INFO&quot;,c={timestamp:f.getTimestamp(),level:b};return c},f.applyData=function(a){a.alisLevel=a.level.toUpperCase().substring(0,1);var b=[&quot; [ &quot;,a.level,&quot; ] &quot;].join(&quot;&quot;);return b},f.getTimestamp=function(){return g.DateFormat(new Date,e.dateFormat)},f.output=function(a,b,c){if(&quot;undefined&quot;!=typeof b&amp;&amp;&quot;undefined&quot;!=typeof c?console.log(b,c):&quot;undefined&quot;!=typeof b&amp;&amp;console.log(b),d.ENABLE_DEBUG)try{e.inited||f.init();var g=document.createElement(&quot;div&quot;);g.className=&quot;c_&quot;+a.level.toLowerCase()||&quot;c_info&quot;;var h=f.applyData(a)+&quot; &quot;+b;&quot;undefined&quot;!=typeof c&amp;&amp;(h+=&quot;, &quot;+c),g.innerHTML=h,$(&quot;.c_log&quot;).length&gt;0?e.DOM.insertBefore(g,$(&quot;.c_log&quot;)[0]):e.DOM.appendChild(g)}catch(i){console.log(&quot;exception :&quot;+i)}},f.init=function(){if(!e.inited){var a=document.createElement(&quot;style&quot;);a.innerHTML=e.style,document.body.appendChild(a);var b=document.createElement(&quot;div&quot;);b.innerHTML=e.tgt,document.body.appendChild(b),e.DOM=document.getElementById(&quot;Console-log&quot;),e.inited=!0}},e.log=function(a,b){var c=f.logObj(&quot;LOG&quot;);f.output(c,a,b)},e.debug=function(a,b){var c=f.logObj(&quot;DEBUG&quot;);f.output(c,a,b)},e.info=function(a,b){var c=f.logObj(&quot;INFO&quot;);f.output(c,a,b)},e.error=function(a,b){var c=f.logObj(&quot;ERROR&quot;);f.output(c,a,b)},e.warn=function(a,b){var c=f.logObj(&quot;WARN&quot;);f.output(c,a,b)},window.Console=e,c.exports=e}),svp.define(&quot;base.cookie&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.util&quot;),g=a(&quot;base.console&quot;),h={isEnabled:!1,set:function(a,b,c,d){var e=&quot;&quot;;if(0!==c){var f=new Date;f.setTime(f.getTime()+36e5*(c||24)),e=&quot;;expires=&quot;+f.toGMTString()}var g=escape(a)+&quot;=&quot;+escape(b)+e+&quot;;path=/&quot;+(d?&quot;;domain=&quot;+d:&quot;&quot;);return document.cookie=g,!0},get:function(a){for(var b,c=document.cookie.split(&quot;;&quot;),d=0;d&lt;c.length;d++)if(b=c[d].split(&quot;=&quot;),b[0].trim()===a)return unescape(b[1]);return&quot;&quot;},del:function(a,b,c){var d=new Date;d.setTime(d.getTime()-1),document.cookie=a+&quot;=; expires=&quot;+d.toGMTString()+&quot;;&quot;+(c?&quot;path=&quot;+c+&quot;; &quot;:&quot;path=/; &quot;)+(b?&quot;domain=&quot;+b+&quot;;&quot;:&quot;domain=&quot;+window.location.host+&quot;;&quot;)},test:function(){var a=&quot;_c_t_&quot;;return this.set(a,&quot;1&quot;),this.isEnabled=&quot;1&quot;===this.get(a),this.del(a),this.isEnabled},serialize:function(a){return JSON.stringify(a)},deserialize:function(a){if(&quot;string&quot;!=typeof a)return a;try{return JSON.parse(a)}catch(b){return a||{}}},setSession:function(a,b){try{window.sessionStorage&amp;&amp;window.sessionStorage.setItem(a,this.serialize(b))}catch(c){g.log(&quot;not support session&quot;,c),this.set(a,this.serialize(b),24)}},getSession:function(a){var b=&quot;&quot;;try{window.sessionStorage&amp;&amp;(b=this.deserialize(window.sessionStorage.getItem(a)))}catch(c){g.log(&quot;not support session&quot;,c),b=this.deserialize(this.get(a))}return b},gMD:function(a){var b;if(a===b||null===a)return null;var c,d=a.length;return c=&quot;.&quot;===a.charAt(d-3)?a.lastIndexOf(&quot;.&quot;,a.lastIndexOf(&quot;.&quot;,d-=a.indexOf(&quot;.com.&quot;)&gt;0?8:4)):a.lastIndexOf(&quot;.&quot;,a.lastIndexOf(&quot;.&quot;)-1),c=-1===c?0:++c,a.substring(c)},_init:function(){var a=document.domain||&quot;127.0.0.1&quot;,b=e.H5Src=d.getUrlParam(&quot;src&quot;)||d.getUrlParam(&quot;SRC&quot;)||&quot;&quot;;b&amp;&amp;(h.set(&quot;MTV_SRC&quot;,e.H5Src,86400,&quot;.sohu.com&quot;),h.set(&quot;MTV_SRC&quot;,e.H5Src,86400,a)),e.H5Src=h.get(&quot;MTV_SRC&quot;)||b;var c=h.get(&quot;SUV&quot;)||&quot;&quot;,i=h.get(&quot;IPLOC&quot;)||&quot;&quot;;if(g.log(&quot;init ck cookieSUV &quot;+c+&quot; cookieIPLOC &quot;+i),c&amp;&amp;i)g.log(&quot;ck not write&quot;);else{var j=f.createUUID();i||e.IS_EXTERNAL_PLAYER||svp.seajs.jsLoader(&quot;http://pv.sohu.com/suv/&quot;+j,function(){h.set(&quot;SUV&quot;,j,5e5,&quot;.sohu.com&quot;),g.log(&quot;callback cookieSUV &quot;+h.get(&quot;SUV&quot;)+&quot; cookieIPLOC &quot;+h.get(&quot;IPLOC&quot;))}),c||(h.set(&quot;SUV&quot;,j,5e5,&quot;.sohu.com&quot;),h.set(&quot;SUV&quot;,j,5e5,a),h.set(&quot;H5UID&quot;,j,5e5,a))}}};h.test(),h._init(),window.Cookie=h,c.exports=h}),svp.define(&quot;WeixinApi&quot;,function(a,b,c){var d=(svp.$,a(&quot;base.vars&quot;)),e=&quot;undefined&quot;==typeof e?{}:e,f=function(){for(var a=document.getElementsByTagName(&quot;meta&quot;),b={},c=0;c&lt;a.length;c++){var d=a[c].getAttribute(&quot;name&quot;),e=a[c].getAttribute(&quot;property&quot;),f=a[c].getAttribute(&quot;content&quot;)||&quot;&quot;;(null==d||void 0==d||0==d.length)&amp;&amp;(d=e),null!=d&amp;&amp;void 0!=d&amp;&amp;0!=d.length&amp;&amp;(b[d]=f)}return b};e.getVideoMetaData=window.getVideoMetaData=f;var g=f();e.dataForWeixin={},e.getData=function(){e.dataForWeixin={appId:&quot;&quot;,MsgImg:g[&quot;og:image&quot;]||&quot;http://css.tv.itc.cn/global/images/nav1/logo.gif&quot;,TLImg:g[&quot;og:image&quot;]||&quot;http://css.tv.itc.cn/global/images/nav1/logo.gif&quot;,url:g[&quot;og:url&quot;]||encodeURIComponent(window.location.href),imgWidth:g[&quot;og:imgWidth&quot;]||&quot;300&quot;,imgHeight:g[&quot;og:imgHeight&quot;]||&quot;300&quot;,title:g[&quot;og:title&quot;]||document.getElementsByTagName(&quot;title&quot;)[0].text.split(&quot; &quot;)[0]||&quot;&quot;,desc:g.description||document.getElementsByTagName(&quot;title&quot;)[0].text.split(&quot; &quot;)[0]||&quot;&quot;,type:g[&quot;og:type&quot;]||&quot;&quot;,callback:function(){}}},console.log(e.dataForWeixin);var h=function(){if(&quot;undefined&quot;!=typeof WeixinJSBridge){var a=e.dataForWeixin;if(&quot;undefined&quot;!=typeof a){var b=a.title.substr(0,22);if(b.indexOf(&quot;搜狐视频&quot;)&gt;-1||(b+=&quot;-搜狐视频&quot;,a.title=b),d.IsWeixinBrowser)try{var c=a.url;c=c.replace(/http:\/\/tv\.sohu\.com/i,&quot;http://wx.m.tv.sohu.com&quot;),c=c.replace(/http:\/\/my\.tv\.sohu\.com/i,&quot;http://wx.m.tv.sohu.com&quot;),a.url=c}catch(f){}WeixinJSBridge.on(&quot;menu:share:appmessage&quot;,function(){WeixinJSBridge.invoke(&quot;sendAppMessage&quot;,{appid:a.appId,img_url:a.MsgImg,img_width:a.imgWidth,img_height:a.imgHeight,link:a.url,desc:a.desc,title:a.title},function(b){&quot;send_app_msg:ok&quot;==b.err_msg&amp;&amp;console.log(b.err_msg),a.callback()})}),WeixinJSBridge.on(&quot;menu:share:timeline&quot;,function(){a.callback(),WeixinJSBridge.invoke(&quot;shareTimeline&quot;,{img_url:a.TLImg,img_width:a.imgWidth,img_height:a.imgHeight,link:a.url,desc:a.desc,title:a.title},function(a){&quot;share_timeline:ok&quot;==a.err_msg&amp;&amp;console.log(a.err_msg)})}),WeixinJSBridge.on(&quot;menu:general:share&quot;,function(b){var c=&quot;#分享视频#&quot;+a.title;d.IsIOS&amp;&amp;(c+=a.url,a.desc=a.desc.substr(0,29)),b.generalShare({type:a.type,content:c,title:a.title,desc:a.desc,img_url:a.TLImg,img_width:a.imgWidth,img_height:a.imgHeight,link:a.url,data_url:a.url},function(a){WeixinJSBridge.log(a.err_msg)})})}}};e.init=function(){d.IsWeixinBrowser&amp;&amp;(&quot;undefined&quot;!=typeof WeixinJSBridge?h():setTimeout(e.init,300))},e.getData(),e.init(),c.exports={getData:e.getData,init:e.init}}),svp.define(&quot;base.store&quot;,function(a,b,c){&quot;use strict&quot;;var d,e={},f=window,g=document,h=&quot;localStorage&quot;,i=&quot;script&quot;;try{d=f[h]}catch(j){}var k=function(){};e.disabled=!1,e.set=k,e.get=k,e.remove=k,e.clear=k,e.transact=function(a,b,c){var d=e.get(a);null===c&amp;&amp;(c=b,b=null),&quot;undefined&quot;==typeof d&amp;&amp;(d=b||{}),c(d),e.set(a,d)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(a){return JSON.stringify(a)},e.deserialize=function(a){if(&quot;string&quot;!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}};var l=function(){try{return h in f&amp;&amp;f[h]}catch(a){return!1}};if(l())d=f[h],e.set=function(a,b){return void 0===b?e.remove(a):(d.setItem(a,e.serialize(b)),b)},e.get=function(a){return e.deserialize(d.getItem(a))},e.remove=function(a){d.removeItem(a)},e.clearAll=function(){d.clear()},e.forEach=function(a){for(var b=0;b&lt;d.length;b++){var c=d.key(b);a(c,e.get(c))}};else if(g.documentElement.addBehavior){var m,n;try{n=new ActiveXObject(&quot;htmlfile&quot;),n.open();var o=&quot;&lt;&quot;+i+&quot;&gt;document.w=window&lt;/&quot;+i+&quot;&gt;&quot;;o+=&#x27;&lt;iframe src=&quot;/favicon.ico&quot;&gt;&lt;/iframe&gt;&#x27;,n.write(o),n.close(),m=n.w.frames[0].document,d=m.createElement(&quot;div&quot;)}catch(j){d=g.createElement(&quot;div&quot;),m=g.body}var p=function(a){var b=function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(d),m.appendChild(d),d.addBehavior(&quot;#default#userData&quot;),d.load(h);var c=a.apply(e,b);return m.removeChild(d),c};return b},q=new RegExp(&quot;[!\&quot;#$%&amp;&#x27;()*+,/\\\\:;&lt;=&gt;?@[\\]^&#x60;{|}~]&quot;,&quot;g&quot;),r=function(a){return a.replace(/^d/,&quot;___$&amp;&quot;).replace(q,&quot;___&quot;)};e.set=p(function(a,b,c){return b=r(b),void 0===c?e.remove(b):(a.setAttribute(b,e.serialize(c)),a.save(h),c)}),e.get=p(function(a,b){return b=r(b),e.deserialize(a.getAttribute(b))}),e.remove=p(function(a,b){b=r(b),a.removeAttribute(b),a.save(h)}),e.clear=p(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(h);for(var c=0,d=b.length;d&gt;c;c++){var e=b[c];a.removeAttribute(e.name)}a.save(h)}),e.forEach=p(function(a,b){for(var c=a.XMLDocument.documentElement.attributes,d=0,f=c.length;f&gt;d;d++){var g=c[d];b(g.name,e.deserialize(a.getAttribute(g.name)))}})}e.getAll=function(){var a={};return e.forEach(function(b,c){a[b]=c}),a};try{var s=&quot;__storejs__&quot;;e.set(s,s),e.get(s)!==s&amp;&amp;(e.disabled=!0),e.remove(s)}catch(j){e.disabled=!0}e.enabled=!e.disabled,e.getStorage=function(){try{d=f[h]}catch(a){console.log(&quot;localStorage is not supported&quot;)}return d},e.clear=function(a){var b=e.getStorage();if(b)if(a)for(var c in b)0===c.indexOf(a)&amp;&amp;b.removeItem(c);else b.clear()},window.Store=e,c.exports=e});var __modulesMap={Zepto:{path:&quot;http://m.tv.sohu.com/mb/dist/js/zepto-v1.1.3.min.js&quot;},PassportSC:{path:&quot;http://tv.sohu.com/upload/touch/js/PassportSC.min.20150214.js&quot;}};if(&quot;undefined&quot;!=typeof window.loader)for(var m in __modulesMap)loader.add(m,__modulesMap[m]);svp.define(&quot;base.passport&quot;,function(a,b,c){&quot;use strict&quot;;var d=a(&quot;base.util&quot;),e=a(&quot;base.cookie&quot;),f=a(&quot;base.codec&quot;),g=&quot;http://tv.sohu.com/upload/touch/js/PassportSC.min.20150214.js&quot;,h=function(){var a,b={},c=function(){var a,b,c,d=[&quot;ppinf&quot;,&quot;ppinfo&quot;,&quot;passport&quot;];for(a=0,b=d.length;b&gt;a;a++)if(c=new RegExp(&quot;\\b&quot;+d[a]+&quot;\\b=(.*?)(?:$|;)&quot;).exec(document.cookie),c&amp;&amp;c.length){c=c[1];break}return c},h=function(a){var b=&quot;&quot;;try{a=unescape(a).split(&quot;|&quot;),(&quot;1&quot;===a[0]||&quot;2&quot;===a[0])&amp;&amp;(b=f.utf8to16(f.base64decode(a[3])))}catch(c){}return b},i=function(a){var b,c,d,e={};for(a=(a||&quot;&quot;).split(&quot;|&quot;),b=0,c=a.length;c&gt;b;b++)d=a[b].split(&quot;:&quot;),d.length&gt;1&amp;&amp;(e[d[0]]=d[2]);return e},j=function(){var d=c(),e=b;return a!==d&amp;&amp;(a=d,e=i(h(d)),b=e),e},k=function(a){a=a||g,&quot;undefined&quot;==typeof PassportSC&amp;&amp;d.loadScript(a)};return{initPassport:k,getPassportCookie:c,decodeData:h,getKeyValueData:i,getData:j,getPassport:function(){return j().userid||&quot;&quot;},getUid:function(){return j().uid||&quot;&quot;},getUUID:function(){return j().uuid||e.get(&quot;SUV&quot;)||&quot;&quot;},getQname:function(){return j().uniqname||&quot;&quot;}}}();window.Passport=h,c.exports=h}),svp.define(&quot;base.slide&quot;,function(a,b,c){&quot;use strict&quot;;var d={slideClass:&quot;&quot;,videoListsClass:&quot;svp_video_list&quot;,pagePoint:&quot;svp_page_point&quot;,showLocationClass:&quot;c&quot;,showClass:&quot;svp_focusShow&quot;,itemClass:&quot;svp_video_list&quot;,moveSpeed:200,minMoveDist:20,moveFlag:!0,isLock:!1,isHasPoint:!1,startX:0,startY:0,moveX:0,isMobile:!0,listTranslate:0,pcDragFlag:!1,loop:!1,firstClone:&quot;clone_first&quot;,lastClone:&quot;clone_last&quot;,autoSpeedInterval:3e3,auto:!1,aLinkClass:&quot;svp_link&quot;,init:function(a){var b=d;b.paramInit(a)&amp;&amp;(b.modelInit(),b.initPagePoint(),b.eventInit())},paramInit:function(a){return a?(this.slideClass=a&amp;&amp;a.scrollClass||&quot;svp_recommend_videos&quot;,this.$slideWrap=$(&quot;.&quot;+this.slideClass),this.loop=a.loop||!1,this.auto=a.auto||!1,this.moveSpeed=a.moveSpeed||200,this.autoSpeedInterval=a.autoSpeedInterval||this.autoSpeedInterval):this.slideClass=&quot;svp_recommend_videos&quot;,0===$(&quot;.&quot;+this.slideClass).length?!1:!0},modelInit:function(){this.isMobile=&quot;createTouch&quot;in document},getItemWidth:function(){return $(&quot;.&quot;+this.slideClass).width()},isPagePoint:function(){var a=$(&quot;.&quot;+this.pagePoint);return a.length&gt;0},initPagePoint:function(){var a=$(&quot;.&quot;+this.itemClass);a.removeClass(this.showClass),a.first().addClass(this.showClass),this.isPagePoint()&amp;&amp;(this.isHasPoint=!0,$(&quot;.&quot;+this.pagePoint).removeClass(this.showLocationClass).first().find(&quot;li:first&quot;).addClass(this.showLocationClass)),this.loop&amp;&amp;this.cloneDom()},cloneDom:function(){if(this.loop){var a=$(&quot;.&quot;+this.itemClass).first().clone().addClass(this.firstClone),b=$(&quot;.&quot;+this.itemClass).last().clone().addClass(this.lastClone);this.$slideWrap.prepend(b),this.$slideWrap.append(a.removeClass(this.showClass)),this.$slideWrap.css(&quot;-webkit-transform&quot;,&quot;translateX(-&quot;+this.getItemWidth()+&quot;px)&quot;)}},eventInit:function(){var a,b,c,d=this;a=this.isMobile?&quot;touchstart&quot;:&quot;mousedown&quot;,b=this.isMobile?&quot;touchmove&quot;:&quot;mousemove&quot;,c=this.isMobile?&quot;touchend&quot;:&quot;mouseleave click&quot;,this.$slideWrap.on(a,function(a){d.isLock||d.touchStart(a)}),this.$slideWrap.on(b,function(a){d.isLock||d.touchMove(a)}),this.$slideWrap.on(c,function(a){return d.touchEnd(a),!1}),this.auto&amp;&amp;this.autoScroll()},moveByIndex:function(a,b){var c=this,d=-1*a*this.getItemWidth();b=b||function(){},$(&quot;.&quot;+this.slideClass).animate({&quot;-webkit-transform&quot;:&quot;translateX(&quot;+d+&quot;px)&quot;},c.moveSpeed,b)},scrollMove:function(a){var b=this;if(!this.isLock){var c=$(&quot;.&quot;+this.showClass),d=$(&quot;.&quot;+this.pagePoint).find(&quot;li&quot;),e=$(&quot;.&quot;+b.itemClass),f=&quot;prev&quot;===a?c.prev():c.next(),g=f.index();if(this.isLock=!0,this.moveFlag)if(this.loop){var h,i,j;c.removeClass(this.showClass),f.hasClass(b.firstClone)||f.hasClass(b.lastClone)?(&quot;next&quot;===a?(h=1,j=0,i=-1*b.getItemWidth()+&quot;px&quot;):(h=e.length-2,j=d.length-1,i=-1*b.getItemWidth()*h+&quot;px&quot;),this.moveByIndex(g,function(){e.eq(h).addClass(b.showClass),b.changePoint(j),b.$slideWrap.css(&quot;-webkit-transform&quot;,&quot;translateX(&quot;+i+&quot;)&quot;),b.isLock=!1})):this.moveByIndex(g,function(){f.addClass(b.showClass),
b.changePoint(g-1),b.isLock=!1})}else 0===f.length?this.moveByIndex(c.index(),function(){b.isLock=!1}):(c.removeClass(this.showClass),this.moveByIndex(g,function(){f.addClass(b.showClass),b.isLock=!1,b.changePoint(g)}));else this.moveByIndex(c.index(),function(){b.isLock=!1})}},changePoint:function(a){this.isHasPoint&amp;&amp;($(&quot;.&quot;+this.pagePoint).find(&quot;li&quot;).removeClass(this.showLocationClass),$(&quot;.&quot;+this.pagePoint).find(&quot;li&quot;).eq(a).addClass(this.showLocationClass))},autoScroll:function(){var a=this;clearInterval(this.timer),this.timer=setInterval(function(){a.scrollMove(&quot;next&quot;)},this.autoSpeedInterval)},touchStart:function(a){this.auto&amp;&amp;clearInterval(this.timer),this.startX=this.isMobile?a.touches[0].pageX:a.clientX,this.startY=this.isMobile?a.touches[0].pageY:a.clientY,this.listTranslate=$(&quot;.&quot;+this.slideClass).offset().left,this.isMobile||(this.pcDragFlag=!0)},touchMove:function(a){if(this.isMobile||this.pcDragFlag){var b,c,d=this.isMobile?a.touches[0].pageX:a.clientX,e=this.isMobile?a.touches[0].pageY:a.clientY;if(b=d&gt;this.startX?d-this.startX:this.startX-d,c=e&gt;this.startY?e-this.startY:this.startY-e,this.moveX=d,b&gt;c){a.preventDefault(),a.stopPropagation();var f=this.listTranslate+(d-this.startX);$(&quot;.&quot;+this.slideClass).css(&quot;-webkit-transform&quot;,&quot;translateX(&quot;+f+&quot;px)&quot;)}}},touchEnd:function(a){if(!this.isMobile){if(this.moveX=a.clientX,!this.pcDragFlag)return;this.pcDragFlag=!1}return this.isMobile&amp;&amp;0===this.moveX||!this.isMobile&amp;&amp;this.startX===this.moveX?void((&quot;A&quot;===a.target.nodeName||$(a.target).parent().hasClass(this.aLinkClass))&amp;&amp;(window.location.href=a.target.href||$(a.target).parent().attr(&quot;href&quot;))):(Math.abs(this.moveX-this.startX)&lt;this.minMoveDist&amp;&amp;(this.moveFlag=!1),this.scrollMove(this.moveX&gt;this.startX?&quot;prev&quot;:&quot;next&quot;),this.moveFlag=!0,this.moveX=0,void(this.auto&amp;&amp;this.autoScroll()))}};c.exports={Scroll:d.init}}),svp.define(&quot;base.special&quot;,function(a,b,c){&quot;use strict&quot;;var d=a(&quot;base.vars&quot;),e=a(&quot;base.url&quot;),f=svp.$,g={};g.COOPERATOR_LIST=[/XiaoMi\/MiPad/i],g.CONTINUE_PLAY_REFRESH_LIST=[],g.FORBID_AUTOPLAY_LIST=[/Windows Phone/i,/iphone/i],g.WX_FORBID_AUTOPLAY_LIST=[/MI[\s\-_]+/i,/SM\-N90/i,/HUAWEI/i,/Coolpad/i,/E7/i,/GT\-I95/i,/GT\-N71/i,/M032.*JRO03H/i,/Android\/?\s?4\.0/i],g.TIMEUPDATE_REPLACE_ENDED_LIST=[/SM\-N90/i],g.FORCE_USE_DOWNLOADURL_LIST=[/M032.*JRO03H/i],g.FORCE_USE_M3U8_LIST=[],g.PLID_LIST=[],g.ADV_BLACK_LIST=[/M032.*JRO03H/i,/Android\/?\s?2\../i,/Android\/?\s?4\.0.*X907.*QQBrowser/i,/QQBrowser\/4\.2/i,/HTC8088_TD/i],g.SERVICE_BLACK_LIST={ios:[],android:[],winPhone:[]},g.FULL_SCREEN_LIST=[/XiaoMi\/MiPad/i],g.M3U8_BLACK_LIST={ios:[],android:[/HM\sNOTE/i,/Build\/HM.*XiaoMi\/MiuiBrowser/i,/vivo/i,/ZTE/i,/TCL/i,/Coolpad/i,/M032.*JRO03H/i,/MQQBrowser(\/4\.|\s4\.)+/i],winPhone:[]},g.MP4_BLACK_LIST={ios:[],android:[],winPhone:[]},g.VIDEO_DOWNLOAD_SRC_LIST=[&quot;1000&quot;,&quot;1102&quot;],g.VIDEO_M3U8_SRC_LIST=[&quot;1080&quot;,&quot;1128&quot;],g.AD_FILTER_SRC_LIST=[&quot;1000&quot;,&quot;1080&quot;];var h=function(a,b){var c=!1;return!f.isUndefined(a)&amp;&amp;f.isArray(b[a])&amp;&amp;f.each(b[a],function(a,b){return b.test(d.UA)?d.IsQQBrowser&amp;&amp;-1===b.toString().indexOf(&quot;QQBrowser&quot;)?(c=!1,!1):(c=!0,!1):void 0}),c},i=function(){var a=e.getQueryString(&quot;src&quot;)||e.getQueryString(&quot;SRC&quot;)||&quot;&quot;;return&quot;&quot;!==a&amp;&amp;a.length&gt;=4&amp;&amp;(a=a.substr(0,4)),a};g.isRefreshWhenContinuePlay=function(){var a=!1;return f.each(g.CONTINUE_PLAY_REFRESH_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),a},g.isInBlackList=function(a){var b=&quot;&quot;,c=!1;return d.IsIPhone||d.IsIPad?b=&quot;ios&quot;:d.IsAndroid?b=&quot;android&quot;:d.IsWindowsPhone&amp;&amp;(b=&quot;winPhone&quot;),&quot;m3u8&quot;===a&amp;&amp;(h(b,g.SERVICE_BLACK_LIST)||h(b,g.M3U8_BLACK_LIST))?c=!0:&quot;mp4&quot;===a&amp;&amp;(h(b,g.SERVICE_BLACK_LIST)||h(b,g.MP4_BLACK_LIST))&amp;&amp;(c=!0),c},g.isForceUseM3u8=function(){var a=!1,b=i();return f(g.VIDEO_M3U8_SRC_LIST).indexOf(b)&gt;=0&amp;&amp;(a=!0),a||f.each(g.FORCE_USE_M3U8_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),a},g.isForceUseDownloadUrl=function(){var a=!1,b=i();return f(g.VIDEO_DOWNLOAD_SRC_LIST).indexOf(b)&gt;=0&amp;&amp;(a=!0),a||f.each(g.FORCE_USE_DOWNLOADURL_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),a},g.isCooperator=function(){var a=!1;return f.each(g.COOPERATOR_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),a},g.cooperatorProcess=function(a){var b=e.getQueryString(&quot;src&quot;)||e.getQueryString(&quot;SRC&quot;)||&quot;&quot;;&quot;&quot;!==b&amp;&amp;b.length&gt;=4&amp;&amp;(b=b.substr(0,4),f(g.VIDEO_DOWNLOAD_SRC_LIST).indexOf(b)&gt;=0&amp;&amp;a.urls.downloadUrl.length&gt;0&amp;&amp;(a.urls.mp4={},a.urls.mp4.nor=a.urls.downloadUrl))},g.isFullScreen=function(){var a=!1;f.each(g.FULL_SCREEN_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0});var b=e.getQueryString(&quot;player&quot;)||e.getQueryString(&quot;PLAYER&quot;)||&quot;&quot;;return&quot;1&quot;===b&amp;&amp;(a=!0),a},g.advFilter=function(){var a=!1,b=e.getQueryString(&quot;src&quot;)||e.getQueryString(&quot;SRC&quot;)||&quot;&quot;;return b&amp;&amp;b.indexOf(&quot;|&quot;)&gt;-1&amp;&amp;(b=b.split(&quot;|&quot;)[0]),f.each(g.AD_FILTER_SRC_LIST,function(c,d){return b===d?(a=!0,!1):void 0}),a},g.isForbidAutoplay=function(){var a=!1;return f.each(g.FORBID_AUTOPLAY_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),d.IsWeixinBrowser&amp;&amp;f.each(g.WX_FORBID_AUTOPLAY_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),d.IsAndroidPad&amp;&amp;(a=!0),a},g.isAllowPlayAdv=function(){var a=!0;return f.each(g.ADV_BLACK_LIST,function(b,c){return c.test(d.UA)?(a=!1,!1):void 0}),g.advFilter()?!1:a},g.isAllowTimeupdateReplaceEnded=function(){var a=!1;return f.each(g.TIMEUPDATE_REPLACE_ENDED_LIST,function(b,c){return c.test(d.UA)?(a=!0,!1):void 0}),a},c.exports=g}),svp.define(&quot;base.support&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.url&quot;),g=a(&quot;base.special&quot;),h={isUseHtml5:function(a){var b=null;if(/ipad|ipod|iphone|lepad_hls|IEMobile/gi.test(e.UA))return!0;if(e.IsAndroid){if(h.isSupportMP4(a))return!0;if(e.IsQQBrowser&amp;&amp;e.BrowserVersion&gt;=4.2)return!0;if(-1!==e.UA.indexOf(&quot;MI-ONE&quot;)||-1!==e.UA.indexOf(&quot;MI2&quot;))return!0;if(e.OsVersion&gt;=&quot;4&quot;&amp;&amp;(b=e.UA.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/))&amp;&amp;b[1]&gt;=4.2)return!0;if(e.OsVersion&gt;=&quot;4.1&quot;)return!0}return h.isSupportMP4(a)||h.isSupportM3u8(a)?!0:e.IsIEBrowser&amp;&amp;e.IsWindows&amp;&amp;e.BrowserVersion&gt;=9?!0:!1},isLiveUseHTML5:function(){return e.IsIOS?!0:e.IsAndroid&amp;&amp;e.IsQQBrowser&amp;&amp;e.BrowserVersion&gt;=4.2?!0:!1},isUseFlash:function(){return e.IsIEBrowser&amp;&amp;e.IsWindows?!0:!1},isSupportM3u8:function(){if(g.isInBlackList(&quot;m3u8&quot;))return!1;if(e.IsIphone||e.IsIpad||&quot;m3u8&quot;===f.getQueryString(&quot;srcType&quot;))return!0;var a=document.getElementsByTagName(&quot;video&quot;)[0]||document.createElement(&quot;video&quot;);if(&quot;function&quot;==typeof a.canPlayType){var b=a.canPlayType(&quot;application/x-mpegURL&quot;);if(e.IsAndroid&amp;&amp;(e.IsBaiduBrowser||e.IsBaiduBoxApp||e.IsQQBrowser||e.IsNewUCBrowser))return!0;if(e.IsAndroid&amp;&amp;!e.IsXiaoMI)return!1;if(&quot;probably&quot;===b)return!0;if(&quot;maybe&quot;===b)return!1}return!1},isSupportWebm:function(){if(e.IsAndroid&amp;&amp;e.OsVersion&gt;=&quot;4.1&quot;)return!0;var a=document.getElementsByTagName(&quot;video&quot;)[0]||document.createElement(&quot;video&quot;);return&quot;function&quot;!=typeof a.canPlayType||&quot;probably&quot;!==a.canPlayType(&#x27;video/webm; codecs=&quot;vp8.0, vorbis&quot;&#x27;)&amp;&amp;&quot;probably&quot;!==a.canPlayType(&#x27;video/webm; codecs=&quot;vp9.0, vorbis&quot;&#x27;)?!1:!0},isSupportMP4:function(){if(g.isInBlackList(&quot;mp4&quot;))return!1;if(e.IsWindowsPhone||&quot;mp4&quot;===f.getQueryString(&quot;srcType&quot;))return!0;var a=document.getElementsByTagName(&quot;video&quot;)[0]||document.createElement(&quot;video&quot;);if(&quot;function&quot;==typeof a.canPlayType){if(&quot;&quot;===a.canPlayType(&#x27;video/mp4; codecs=&quot;mp4v.20.8&quot;&#x27;))return!1;if(&quot;&quot;===a.canPlayType(&#x27;video/mp4; codecs=&quot;avc1.42E01E&quot;&#x27;)||&quot;&quot;===a.canPlayType(&#x27;video/mp4; codecs=&quot;avc1.42E01E, mp4a.40.2&quot;&#x27;))return!1}return!0},isSupportSVG:function(){return document.implementation&amp;&amp;d.isFunction(document.implementation.hasFeature)?document.implementation.hasFeature(&quot;http://www.w3.org/TR/SVG11/feature#BasicStructure&quot;,&quot;1.1&quot;):!1}};c.exports=h}),svp.define(&quot;base.swipe&quot;,function(a,b,c){var d=svp.$,e=a(&quot;base.vars&quot;),f={startX:0,startPoint:[0,0],lastX:0,page:1,pageCount:1,scrollerWidth:0,windowWidth:0,initiated:!1,timer:null,events:{onTouchStart:e.START_EVENT,onTouchMove:e.MOVE_EVENT,onTouchEnd:e.END_EVENT},init:function(){f.initScroller(),d(document).on(f.events.onTouchEnd,f.onTouchEnd).on(f.events.onTouchMove,f.onTouchMove).on(&quot;touchcancel&quot;,f.onTouchCancel).on(&quot;click&quot;,f.onTouchCancel)},initScroller:function(a){a=a||document,d(&quot;.scroll_wrap&quot;,a).css({&quot;-webkit-backface-visibility&quot;:&quot;hidden&quot;,overflowX:&quot;hidden&quot;,&quot;-webkit-transform&quot;:&quot;translate3d(0,0,0)&quot;}),d(&quot;.scroller&quot;,a).css({&quot;-webkit-backface-visibility&quot;:&quot;hidden&quot;,&quot;-webkit-transform&quot;:&quot;translate3d(0,0,0)&quot;,&quot;-webkit-transition&quot;:&quot;-webkit-transform 0&quot;}),d(&quot;.scroller&quot;,a).on(f.events.onTouchStart,f.onTouchStart),d(&quot;.scroller&quot;,a).on(&quot;webkitTransitionEnd&quot;,function(){var a=d(this).attr(&quot;page&quot;)||1,b=d(&quot;.scroller_page b&quot;,this.parentNode);b.removeClass(&quot;c&quot;),b.eq(a-1).addClass(&quot;c&quot;)})},scrollToElement:function(a,b,c){var d=a.parent();if(0!==d.length){var e=d.get(0),f=e.offsetLeft,g=e.offsetLeft,h=-(a.offset().left-f),i=e.lastElementChild,j=i.offsetLeft+i.offsetWidth+f+g,k=d.parent().width(),l=j-k,m=parseInt(d.attr(&quot;startX&quot;)||0);m&gt;h&amp;&amp;-h+a.width()&lt;-m+k&amp;&amp;!c||(-l&gt;h&amp;&amp;(h=-l),h&gt;0&amp;&amp;(h=0),d.attr(&quot;startX&quot;,h).css({&quot;-webkit-transform&quot;:&quot;translate3d(&quot;+h+&quot;px,0,0)&quot;,&quot;-webkit-transition-duration&quot;:b?&quot;200ms&quot;:0}))}},onTouchStart:function(a){clearTimeout(f.timer),f.timer=null;var b=this,c=d(this),g=b.childElementCount;if(g&gt;0){f.scrollerWidth=0,f.leftPadding=b.offsetLeft,f.rightPadding=b.offsetLeft;var h=b.lastElementChild;if(h&amp;&amp;(f.scrollerWidth=h.offsetLeft+h.offsetWidth+f.leftPadding+f.rightPadding),f.scrollerWidth&lt;=b.parentNode.offsetWidth)return;f.touchElement=c,f.initiated=!0,c.css(&quot;-webkit-transition-duration&quot;,&quot;0&quot;),f.startX=parseInt(c.attr(&quot;startX&quot;)||0,10),f.paginationElLeft=null,f.paginationElRight=null,f.windowWidth=c.parent().width();var i=b.firstElementChild;do{var j=d(i).get(0).offsetLeft;if(!f.paginationElLeft&amp;&amp;j+f.startX&gt;=0&amp;&amp;(f.paginationElLeft=i),j+i.offsetWidth+f.startX&gt;f.windowWidth){f.paginationElRight=i;break}}while(i=i.nextElementSibling);f.deltaXInsetBound=0,a.originalEvent&amp;&amp;(a=a.originalEvent);var k=e.IsTouch?a.changedTouches[0]:a;f.startPoint=[k.clientX,k.clientY]}},onTouchMove:function(a){if(!1!==f.initiated){a.originalEvent&amp;&amp;(a=a.originalEvent);var b=e.IsTouch?a.changedTouches[0]:a,c=b.clientX-f.startPoint[0],d=b.clientY-f.startPoint[1];if(c&gt;0&amp;&amp;f.startX&gt;=0?f.lastX=f.startX+c/2:0&gt;c&amp;&amp;-f.startX-c&gt;=f.scrollerWidth-f.windowWidth?f.lastX=-(f.scrollerWidth-f.windowWidth)+(c-f.deltaXInsetBound)/2:(f.lastX=f.startX+c,f.deltaXInsetBound=c),!f.isSwiping&amp;&amp;Math.abs(d)&gt;Math.abs(c))return void(f.initiated=!1);a.preventDefault(),f.isSwiping=!0,f.setPos(f.lastX)}},onTouchEnd:function(){if(f.isSwiping){var a=0,b=f.touchElement.attr(&quot;page&quot;)||1;if(f.lastX&lt;f.startX){f.paginationElRight?(a=-1*f.paginationElRight.offsetLeft,b++):a=-1*f.paginationElLeft.offsetLeft;var c=f.scrollerWidth-f.windowWidth;-c&gt;a&amp;&amp;(a=-c)}else if(f.lastX&gt;f.startX&amp;&amp;f.paginationElLeft){var d=f.paginationElLeft,e=f.windowWidth-d.offsetWidth-d.offsetLeft;do if(a=-1*d.offsetLeft,a&gt;e){b--;break}while(d=d.previousElementSibling)}f.touchElement.attr(&quot;page&quot;,b),a&gt;0&amp;&amp;(a=0),f.touchElement.attr(&quot;startX&quot;,a),f.touchElement.css(&quot;-webkit-transition-duration&quot;,&quot;200ms&quot;),f.setPos(a),f.onTouchCancel()}},onTouchCancel:function(){f.isSwiping=!1,f.initiated=!1,f.timer=setTimeout(function(){f.touchElement&amp;&amp;f.touchElement.find(&quot;a&quot;).off(&quot;click&quot;,f.cancelClick),f.touchElement=null,f.timer=null},200)},cancelClick:function(){return!1},setPos:function(a){f.touchElement.css(&quot;-webkit-transform&quot;,&quot;translate3d(&quot;+a+&quot;px,0,0)&quot;),f.touchElement.find(&quot;a&quot;).on(&quot;click&quot;,f.cancelClick)}};d(document).ready(function(){f.init(),d(window).on(&quot;resize&quot;,function(){d.each(d(&quot;.scroller&quot;),function(a,b){var c=b.getAttribute(&quot;page&quot;)||1;f.scrollToElement(d(b).children().eq(c-1))})})}),e.IsTouch||&quot;undefined&quot;!=typeof window.jQuery||d(document).on(&quot;mousedown&quot;,function(a){for(var b=a.target;b;){var c=b.nodeName+&quot;&quot;;if(c=c.toLowerCase(),&quot;a&quot;==c||&quot;img&quot;==c){a.preventDefault();break}b=b.parentNode}},!1),window.Swipe=f,c.exports=f}),svp.define(&quot;base.sysMessage&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;data.appDownload&quot;),g=a(&quot;trace.click&quot;),h=function(){var a=&#x27;&lt;div class=&quot;app_download_select js_download_select&quot; style=&quot;display: none;&quot;&gt;&lt;div class=&quot;app_download_top&quot;&gt;&lt;span class=&quot;app_download_icon&quot;&gt;&lt;/span&gt;&lt;span class=&quot;app_downlaod_close js_app_downlaod_close&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;app_download_title js_download_select_title&quot;&gt;&lt;/div&gt;&lt;div class=&quot;app_downlaod js_app_downlaod&quot; position=&quot;appdownload_floor&quot;&gt;立即安装&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;download_masklayer js_download_masklayer&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;&#x27;;return a},i={},j=null;i.downloadPopTips=function(a){var b=d(&quot;.js_download_select&quot;),c=d(&quot;.js_download_masklayer&quot;);(e.IsQQBrowser||e.IsUCBrowser||e.IsAndroid&amp;&amp;e.IsNewBaiduBrowser)&amp;&amp;(d(&quot;video&quot;).length&gt;0&amp;&amp;d(&quot;video&quot;)[0].pause(),d(&quot;video&quot;).hide()),j=d.isUndefined(a.downUrl)||&quot;&quot;===a.downUrl?null:{downUrl:a.downUrl},0===b.length&amp;&amp;(d(&quot;body&quot;).append(h()),b=d(&quot;.js_download_select&quot;),c=d(&quot;.js_download_masklayer&quot;),d(&quot;.js_app_downlaod&quot;).on(&quot;click&quot;,function(){var e=d(this).attr(&quot;position&quot;);return console.log(&quot;发送行为统计点: &quot;+e),g.pingback(null,e),f.gotoDownload(j),b.oriHide(),c.oriHide(),&quot;undefined&quot;!=typeof a&amp;&amp;&quot;function&quot;==typeof a.downloadCB&amp;&amp;a.downloadCB(),!1}),d(&quot;.js_app_downlaod_close&quot;).on(&quot;click&quot;,function(){return b.oriHide(),c.oriHide(),(e.IsQQBrowser||e.IsUCBrowser||e.IsAndroid&amp;&amp;e.IsNewBaiduBrowser)&amp;&amp;setTimeout(function(){d(&quot;video&quot;).show()},300),&quot;undefined&quot;!=typeof a&amp;&amp;&quot;function&quot;==typeof a.closeCB&amp;&amp;a.closeCB(),!1}));var i=a&amp;&amp;a.title?a.title:&quot;高速观看需安装搜狐视频客户端&quot;;d(&quot;.js_download_select_title&quot;,b).html(i),c.oriShow(),b.oriShow()},c.exports=i}),svp.define(&quot;base.url&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f={URLGlobalParms:{},getQueryData:function(a){a=a.replace(/^\?+/,&quot;&quot;).replace(/&amp;amp;/,&quot;&amp;&quot;);for(var b,c=a.split(&quot;&amp;&quot;),d=0,e={};d&lt;c.length;){if(b=c[d].split(&quot;=&quot;),b[0]){var f=b[1]||&quot;&quot;;try{f=decodeURIComponent(f)}catch(g){f=unescape(f)}f=&quot;null&quot;===f?null:f,e[decodeURIComponent(b[0])]=f}d++}return e},getQueryString:function(a,b){var c,d=b?f.getElSearchString(b):window.location.search.substring(1);return c=f.getQueryData(d),a in c?c[a]:null},getParam:function(a){var b=new RegExp(&quot;(^|&amp;?)&quot;+a+&quot;=([^&amp;]*)(&amp;|$)&quot;,&quot;i&quot;),c=window.location.search.substr(1).match(b);return null!==c?unescape(c[2]):null},getElSearchString:function(a){a=d(a).get(0);var b=a.search||&quot;&quot;;if(!b){var c=a.getAttribute(&quot;FORM&quot;===a.nodeName?&quot;action&quot;:&quot;href&quot;),e=c.indexOf(&quot;?&quot;);-1!==e&amp;&amp;(b=c.slice(e))}return b},setQueryString:function(a,b){a=d(a);var c,e,g,h,i,j,k=a.get(0),l=k.search,m=l||&quot;&quot;;if(!l){if(e=k.nodeName,&quot;FORM&quot;===e){if(&quot;post&quot;!==k.method.toLowerCase()){for(c in b){h=b[c];var n=d(&#x27;input[name=&quot;&#x27;+c+&#x27;&quot;]&#x27;,a);n?n.val(h):a.append(d(&#x27;&lt;input type=&quot;hidden&quot; name=&quot;&#x27;+c+&#x27;&quot; value=&quot;&#x27;+h+&#x27;&quot; /&gt;&#x27;))}return}g=a.attr(&quot;action&quot;)||location.href+&quot;&quot;}else g=a.attr(&quot;href&quot;)||location.href+&quot;&quot;;i=g.indexOf(&quot;?&quot;),j=g.indexOf(&quot;#&quot;),-1===j&amp;&amp;(j=g.length),0&gt;i||i&gt;j?(m=&quot;&quot;,i=j):m=g.slice(i+1,j)}var o=f.getQueryData(m),p=[];for(c in b)o[c]=b[c];for(c in o)h=o[c],p.push(c+(h?&quot;=&quot;+encodeURIComponent(h):&quot;&quot;));if(!(p.length&lt;1)){var q=&quot;?&quot;+p.join(&quot;&amp;&quot;);if(l)k.search=q;else{var r=&quot;FORM&quot;===e?&quot;action&quot;:&quot;href&quot;;a.attr(r,g.slice(0,i)+q+g.slice(j))}return q}},objToQueryString:function(a){var b,c,d=[];for(b in a){c=a[b];var e=Object.prototype.toString.call(c);d.push(&quot;[object Array]&quot;===e?b+&quot;=&quot;+JSON.stringify(c):&quot;[object Object]&quot;===e?b+&quot;=&quot;+JSON.stringify(c):b+&quot;=&quot;+encodeURIComponent(&quot;undefined&quot;==typeof c?&quot;&quot;:c))}return d.join(&quot;&amp;&quot;)},updateGlobalParms:function(a,b){var c=d(&quot;a[href],form&quot;,a),e=c.length,g=null,h=&quot;&quot;;for(b=b||f.URLGlobalParms;e--;)g=c.get(e),h=g.href,h&amp;&amp;h.match(/^(sms|tel|mail)/i)||f.setQueryString(g,b)},setParam:function(a,b,c){try{if(&quot;undefined&quot;!=typeof a&amp;&amp;&quot;undefined&quot;!=typeof b&amp;&amp;&quot;undefined&quot;!=typeof c)if(-1===a.indexOf(&quot;?&quot;))a+=&quot;?&quot;+b+&quot;=&quot;+c;else{var e=a.split(&quot;?&quot;),f=e[1],g=f.split(&quot;&amp;&quot;),h=!1;d.each(g,function(a,d){var e=d.split(&quot;=&quot;);return b===e[0]?(h=!0,g[a]=b+&quot;=&quot;+c,!1):void 0}),h?a=e[0]+&quot;?&quot;+g.join(&quot;&amp;&quot;):a+=&quot;&amp;&quot;+b+&quot;=&quot;+c}}catch(i){console.log(i)}return a},setParams:function(a,b,c){if(&quot;string&quot;==typeof b&amp;&amp;&quot;undefined&quot;!=typeof c)return this.setParam(a,b,c);if(&quot;object&quot;==typeof b){for(var d in b)a=this.setParam(a,d,b[d]);return a}return a},_init:function(){var a,b=[&quot;clientType&quot;,&quot;clientVer&quot;,&quot;actionVer&quot;,&quot;plat&quot;,&quot;startClient&quot;,&quot;useVideoLink&quot;,&quot;r&quot;,&quot;player&quot;],c=f.getQueryData(location.search.substring(1)),d={},g=0;e.IS_EXTERNAL_PLAYER&amp;&amp;b.push(&quot;channeled&quot;);for(var h=b.length;h--;)a=b[h],c.hasOwnProperty(a)&amp;&amp;(d[a]=c[a],g++);return f.URLGlobalParms=d,g&gt;0&amp;&amp;f.updateGlobalParms(document,d),f.URLGlobalParms}};f._init(),c.exports=f}),svp.define(&quot;base.util&quot;,function(a,b,c){&quot;use strict&quot;;var d=a(&quot;base.vars&quot;),e=svp.$,f={pingback:function(a,b){if(a)for(var c=a.split(&quot;|&quot;),e=0,f=c.length;f&gt;e;e++)(new Image).src=c[e],d.ENABLE_DEBUG&amp;&amp;void 0!==b&amp;&amp;(d.ADPingbackCount++,console.log(&quot;第&quot;+d.ADPingbackCount+&quot;个上报,第&quot;+b+&quot;秒:&quot;,c[e]))},getOSVersion:function(){var a=&quot;0&quot;;if(d.IsIOS){var b=d.UA.match(/os ([0-9_]+)/i);b&amp;&amp;b[1]&amp;&amp;(a=f.getVersionNumber(b[1]))}else a=d.IsAndroid?f.getAndroidVersionNumber():&quot;4.0.1&quot;;return a},getAndroidVersionNumber:function(){var a=d.UA.match(/android(.*?);/i)||[];return a[1]||&quot;0&quot;},getVersionNumber:function(a){var b=a.replace(/_/g,&quot;.&quot;).replace(/^([0-9]+\.[0-9]+)[0-9\.]*/,&quot;$1&quot;);return parseFloat(b||0)},timeFromNow:function(a){var b=60,c=60*b,d=24*c,e=30*d,f=12*e;return a=(+new Date-parseInt(a,10))/1e3,a&gt;=f?Math.floor(a/f)+&quot;年前&quot;:a&gt;=e?Math.floor(a/e)+&quot;个月前&quot;:a&gt;=d?Math.floor(a/d)+&quot;天前&quot;:a&gt;=c?Math.floor(a/c)+&quot;小时前&quot;:a&gt;=b?Math.floor(a/b)+&quot;分钟前&quot;:&quot;刚刚&quot;},secondsToTime:function(a){var b=parseInt(a,10);isNaN(b)&amp;&amp;(b=0);var c=Math.floor(b/60);if(a=b%60,10&gt;a&amp;&amp;(a=&quot;0&quot;+a),60&gt;c)return 10&gt;c&amp;&amp;(c=&quot;0&quot;+c),c+&quot;:&quot;+a;var d=Math.floor(c/60);return c%=60,10&gt;c&amp;&amp;(c=&quot;0&quot;+c),10&gt;d&amp;&amp;(d=&quot;0&quot;+d),d+&quot;:&quot;+c+&quot;:&quot;+a},secondsToTimeText:function(a){var b=parseInt(a,10);isNaN(b)&amp;&amp;(b=0);var c=Math.floor(b/60);if(a=b%60+&quot;秒&quot;,60&gt;c)return(c&gt;0?c+&quot;分&quot;:&quot;&quot;)+a;var d=Math.floor(c/60);return c%=60,(d&gt;0?d+&quot;小时&quot;:&quot;&quot;)+c+&quot;分&quot;+a},shortCount:function(a){return a=parseInt(a,10),a&gt;1e8?a=Math.floor(a/1e8)+&quot;亿&quot;:a&gt;1e4&amp;&amp;(a=Math.floor(a/1e4)+&quot;万&quot;),a},shortFixedCount:function(a){return a=parseFloat(a),a&amp;&amp;a&gt;=1e8?a=(a/1e8).toFixed(1)+&quot;亿&quot;:a&amp;&amp;a&gt;=1e4&amp;&amp;(a=(a/1e4).toFixed(1)+&quot;万&quot;),a},dateString:function(a){var b=a.match(/([0-9]{4}\-[0-9]+\-[0-9]+)/);return b&amp;&amp;(a=b[1]),a},setLoad:function(a){return a=e(a),a.hasClass(&quot;_load_inited&quot;)||a.addClass(&quot;_load_inited&quot;).append(e(&#x27;&lt;i class=&quot;ui_loading&quot;&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;u&gt;&lt;/u&gt;&lt;/i&gt;&#x27;)),a},loadScript:function(a,b,c){var d=document.getElementsByTagName(&quot;head&quot;)[0]||document.body,e=document.createElement(&quot;script&quot;),f=!1;e.src=a,e.onload=e.onreadystatechange=function(){f||this.readyState&amp;&amp;&quot;loading&quot;===this.readyState||(f=!0,b&amp;&amp;b.apply(null,c||[]),e.onload=e.onreadystatechange=null,d.removeChild(e))},d.appendChild(e)},formatURL:function(a){return a+=&quot;&quot;,a=a.replace(/^https?:\/\/(my\.|v\.)?tv\./i,&quot;http://m.tv.&quot;).replace(&quot;http://s.&quot;,&quot;http://m.s.&quot;).replace(&quot;http://m.s.&quot;,&quot;http://m.tv.&quot;).replace(/^http:\/\/(video\.)?2012/i,&quot;http://m.s&quot;)},makePlayUrl:function(a,b){var c=&quot;http://&quot;+location.host;return a.vid&amp;&amp;(a.site=a.site||1,c+=1==a.site?&quot;/v&quot;:&quot;/u/vw/&quot;,c+=a.vid+&quot;.shtml&quot;,b&amp;&amp;(c+=&quot;?channeled=&quot;+b)),c},getPageOffset:function(){return window.pageYOffset||document.body&amp;&amp;document.body.scrollTop||0},getSohuDefaultApplink:function(a){if(a&amp;&amp;&quot;string&quot;==typeof a)return a;var b=&quot;http://m.tv.sohu.com/app&quot;;return d.IsAndroid&amp;&amp;(b=d.IsAndroidPad?&quot;http://upgrade.m.tv.sohu.com/channels/hdv/4.2.0/SohuTVPad_4.2.0_680_201412101735.apk&quot;:&quot;http://upgrade.m.tv.sohu.com/channels/hdv/4.6.0/SohuTV_4.6.0_680_201412152308.apk&quot;),d.IsIphone&amp;&amp;(b=&quot;https://itunes.apple.com/cn/app/sou-hu-shi-pin-gao-qing/id458587755?mt=8&quot;),d.IsIpad&amp;&amp;(b=&quot;https://itunes.apple.com/cn/app/sou-hu-shi-pin-hd/id414430589?mt=8&quot;),d.IsWindowsPhone&amp;&amp;(b=&quot;http://www.windowsphone.com/zh-CN/apps/403faf93-d22c-4331-ac32-9560ee9fac94&quot;),d.IsWindowsPad&amp;&amp;(b=&quot;http://apps.microsoft.com/windows/zh-CN/app/c5ae3c2a-5573-45c2-ac63-7d67e01de6bb&quot;),d.IsWeixinBrowser&amp;&amp;!d.IsIphone&amp;&amp;(b=&quot;http://a.app.qq.com/o/simple.jsp?pkgname=com.sohu.sohuvideo&amp;g_f=991881&quot;),b},getConnectionType:function(){var a,b=window.navigator.connection,c=&quot;&quot;;return b&amp;&amp;(a=b.type,a===b.CELL_2G?c=&quot;2g&quot;:a===b.CELL_3G?c=&quot;3g&quot;:a===b.WIFI&amp;&amp;(c=&quot;wifi&quot;)),c},formatDateWithBar:function(a){a=a||new Date;var b=a.getMonth()+1,c=a.getDate();return b.toString().length&lt;2&amp;&amp;(b=&quot;0&quot;+b),c.toString().length&lt;2&amp;&amp;(c=&quot;0&quot;+c),a.getFullYear()+&quot;-&quot;+b+&quot;-&quot;+c},formatDateWithZh:function(a){a=a||new Date;var b=a.getMonth()+1,c=a.getDate();return b.toString().length&lt;2&amp;&amp;(b=&quot;0&quot;+b),c.toString().length&lt;2&amp;&amp;(c=&quot;0&quot;+c),a.getFullYear()+&quot;年&quot;+b+&quot;月&quot;+c+&quot;日&quot;},formatDateStr:function(a,b){var c={&quot;M+&quot;:a.getMonth()+1,&quot;d+&quot;:a.getDate(),&quot;h+&quot;:a.getHours(),&quot;m+&quot;:a.getMinutes(),&quot;s+&quot;:a.getSeconds(),&quot;q+&quot;:Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(b)&amp;&amp;(b=b.replace(RegExp.$1,(a.getFullYear()+&quot;&quot;).substr(4-RegExp.$1.length)));for(var d in c)new RegExp(&quot;(&quot;+d+&quot;)&quot;).test(b)&amp;&amp;(b=b.replace(RegExp.$1,1===RegExp.$1.length?c[d]:(&quot;00&quot;+c[d]).substr((&quot;&quot;+c[d]).length)));return b},getUserPt:function(){var a=5;if(&quot;undefined&quot;!=typeof navigator.platform)for(var b=[&quot;Win32&quot;,&quot;Win64&quot;,&quot;Windows&quot;,&quot;Mac68K&quot;,&quot;MacPC&quot;,&quot;Macintosh&quot;,&quot;MacIntel&quot;],c=0,e=b.length;e&gt;c;c++)if(navigator.platform===b[c]){a=1;break}return d.IsIpad&amp;&amp;(a=2),d.IsIphone&amp;&amp;(a=3),d.IsAndroid&amp;&amp;(a=5,/tv/i.test(d.UA)&amp;&amp;(a=6)),d.IsAndroidPad&amp;&amp;(a=4),d.IsWindowsPad&amp;&amp;(a=7),d.IsWindowsPhone&amp;&amp;(a=8),a},getUserPt2:function(){var a=&quot;android&quot;;if(&quot;undefined&quot;!=typeof navigator.platform)for(var b=[&quot;Win32&quot;,&quot;Win64&quot;,&quot;Windows&quot;,&quot;Mac68K&quot;,&quot;MacPC&quot;,&quot;Macintosh&quot;,&quot;MacIntel&quot;],c=0,e=b.length;e&gt;c;c++)if(navigator.platform===b[c]){a=&quot;pc&quot;;break}return d.IsIpad&amp;&amp;(a=&quot;iPad&quot;),d.IsIphone&amp;&amp;(a=&quot;iPhone&quot;),d.IsAndroid&amp;&amp;(a=&quot;android&quot;),d.IsAndroidPad&amp;&amp;(a=&quot;androidPad&quot;),d.IsWindowsPad&amp;&amp;(a=&quot;windowsPad&quot;),d.IsWindowsPhone&amp;&amp;(a=&quot;windowsPhone&quot;),a},getUserSysPt:function(){var a=&quot;android&quot;;if(&quot;undefined&quot;!=typeof navigator.platform)for(var b=[&quot;Win32&quot;,&quot;Win64&quot;,&quot;Windows&quot;,&quot;Mac68K&quot;,&quot;MacPC&quot;,&quot;Macintosh&quot;,&quot;MacIntel&quot;],c=0,e=b.length;e&gt;c;c++)if(navigator.platform===b[c]){a=&quot;pc&quot;;break}d.IsIpad&amp;&amp;(a=&quot;ios&quot;),d.IsIphone&amp;&amp;(a=&quot;ios&quot;),d.IsWindowsPad&amp;&amp;(a=&quot;windows&quot;),d.IsWindowsPhone&amp;&amp;(a=&quot;windows&quot;)},reverse:function(a){return Array.isArray(a)?a.reverse():String(a).split(&quot;&quot;).reverse().join(&quot;&quot;)},getFnName:function(a){var b=&quot;&quot;;return&quot;function&quot;==typeof a&amp;&amp;(b=a.name||(/function ([^\(]+)/.exec(a.toString())||[])[1]||&quot;&quot;),b},createUUIDPart:function(a){var b=&quot;&quot;;a=&quot;number&quot;==typeof a&amp;&amp;a&gt;0?a:16;for(var c=0;a&gt;c;c++){var d=parseInt(256*Math.random(),10).toString(16);1===d.length&amp;&amp;(d=&quot;0&quot;+d),b+=d}return b},getRandomNum:function(a,b){var c=b-a,d=Math.random();return a+Math.round(d*c)},formatDateWithBar2:function(){var a=a||new Date,b=a.getMonth()+1,c=a.getDate();return b.toString().length&lt;2&amp;&amp;(b=&quot;0&quot;+b),c.toString().length&lt;2&amp;&amp;(c=&quot;0&quot;+c),a.getFullYear()+&quot;&quot;+b+c},createUUID:function(){var a=Math.floor(window.screen.width),b=Math.floor(window.screen.height),c=Math.floor(Math.sqrt(a*a+b*b))||0,d=Math.round(this.getUserPt())||1,e=1e3*+new Date,f=e+d+c+Math.round(1e3*Math.random());return console.log(&quot;h5-uuid:&quot;,f),f}};String.prototype.replaceAll=function(a,b){return this.replace(new RegExp(a,&quot;gm&quot;),b)},String.prototype.hasOwnProperty(&quot;trim&quot;)||(String.prototype.trim=function(){return this.replace(/^(\s|\r|\n|\r\n)*|(\s|\r|\n|\r\n)*$/g,&quot;&quot;)}),Function.prototype.hasOwnProperty(&quot;bind&quot;)||(Function.prototype.bind=function(a){var b=this,c=arguments.length&gt;1?Array.slice(arguments,1):null;return function(){return b.apply(a||this,c)}}),svp.$.getScript=svp.seajs.jsLoader,svp.$.getCss=svp.seajs.cssLoader,f.loadScript=svp.seajs.jsLoader,f.loadCss=svp.seajs.cssLoader,c.exports=f}),svp.define(&quot;base.vars&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e={};window.SohutvJSBridge=window.SohutvJSBridge||{};var f=d.getUrlParam;e.__getQueryString=f,e.ENABLE_DEBUG=f(&quot;debug&quot;)||f(&quot;DEBUG&quot;),e.IS_HISTORY_SUPPORT=&quot;pushState&quot;in history,e.IS_EXTERNAL_PLAYER=location.href.match(/player=1/i)||location.host.indexOf(&quot;m.sohu.com&quot;)&gt;-1,e.API_KEY=&quot;f351515304020cad28c92f70f002261c&quot;,e.API_URL=&quot;http://api.tv.sohu.com/&quot;,e.API_LIVE_URL=&quot;http://live.m.tv.sohu.com/api/&quot;,e.API_PROXY_URL=&quot;http://m.tv.sohu.com/api/&quot;,e.IsAutoTrace=!0,e.H5_URL=&quot;http://m.tv.sohu.com/&quot;,e.H5_TEST_URL=&quot;http://t.m.tv.sohu.com/&quot;,e.UA=window.navigator.userAgent;var g=function(){var a=1;try{a=void 0!==window.screen.systemXDPI&amp;&amp;void 0!==window.screen.logicalXDPI&amp;&amp;window.screen.systemXDPI&gt;window.screen.logicalXDPI?window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:window.devicePixelRatio,a=parseFloat(a)||1}catch(b){}return a};e.PixelRatio=g(),e.IsAndroid=!(!/Android|HTC|Adr/i.test(e.UA)&amp;&amp;!(window.navigator.platform+&quot;&quot;).match(/Linux/i)),e.IsIpad=!e.IsAndroid&amp;&amp;/iPad/i.test(e.UA),e.IsIpod=!e.IsAndroid&amp;&amp;/iPod/i.test(e.UA),e.IsIphone=!e.IsAndroid&amp;&amp;/iPod|iPhone/i.test(e.UA),e.IsIOS=e.IsIpad||e.IsIphone,e.IsWindowsPhone=/Windows Phone/i.test(e.UA),e.IsOldWindowsPhone=/Windows\sPhone\s([1234567]\.|8\.0)/i.test(e.UA),e.IsNewWindowsPhone=e.IsWindowsPhone&amp;&amp;!e.IsOldWindowsPhone,e.IsWindowsPad=/Windows\sPad/i.test(e.UA),e.IsWindows=/Windows/i.test(e.UA),e.IsVivoPhone=/vivo/i.test(e.UA),e.ScreenSizeCorrect=1,e.IsAndroid&amp;&amp;(window.screen.width/window.innerWidth).toFixed(2)===e.PixelRatio.toFixed(2)&amp;&amp;(e.ScreenSizeCorrect=1/e.PixelRatio),e.AdrPadRegex=/pad|XiaoMi\/MiPad|lepad|MediaPad|GT-P|SM-T|GT-N5100|sch-i800|Nexus\s7|Nexus\s8|Nexus\s11|Kindle Fire HD|Tablet/i,e.ScreenSize=Math.floor(window.screen.width*e.ScreenSizeCorrect)+&quot;x&quot;+Math.floor(window.screen.height*e.ScreenSizeCorrect);var h=function(){var a=1,b=!1,c=e.ScreenSizeCorrect||1,d=Math.floor(window.screen.width*c),f=Math.floor(window.screen.height*c),g=1;try{a=parseFloat(Math.sqrt(d*d+f*f)),g=parseFloat(a/(160*e.PixelRatio))}catch(h){}if(&quot;ontouchstart&quot;in window&amp;&amp;e.IsAndroid)if(/mobile/i.test(e.UA))b=!1;else{var i=!!e.AdrPadRegex.test(e.UA);i?b=!0:!b&amp;&amp;(a&gt;=2500||g&gt;7.8)&amp;&amp;(b=!0)}return b};e.IsAndroidPad=h(),e.IsIEBrowser=!!document.all&amp;&amp;(&quot;Win32&quot;===navigator.platform||&quot;Win64&quot;===navigator.platform||&quot;Windows&quot;===navigator.platform),e.IsSafariBrowser=!(!e.UA.match(/Safari/i)||e.IsAndroid),e.IsChromeBrowser=!(!e.UA.match(/Chrome/i)||e.IsAndroid),e.IsWeixinBrowser=!(!window.WeixinJSBridge&amp;&amp;!/MicroMessenger/i.test(e.UA)),e.IsQQBrowser=!!/MQQBrowser/i.test(e.UA),e.IsUCBrowser=!!/UCBrowser/i.test(e.UA),e.IsOldUCBrowser=!!/UCBrowser\/([1-9]\..*|10\.[01].*)/i.test(e.UA),e.IsNewUCBrowser=e.IsUCBrowser&amp;&amp;!e.IsOldUCBrowser,e.IsMiBrowser=!!/MiuiBrowser/i.test(e.UA),e.IsBaiduBrowser=!!/baidubrowser/i.test(e.UA),e.IsBaiduBoxApp=!!/baiduboxapp/i.test(e.UA),e.IsOldBaiduBrowser=!!/baidubrowser\/([01234]\..*|5\.[0123456]\..*|5\.7\.[012])/i.test(e.UA),e.IsNewBaiduBrowser=e.IsBaiduBrowser&amp;&amp;!e.IsOldBaiduBrowser,e.IsTouch=&quot;ontouchstart&quot;in window;var i=function(){var a=e.UA,b=a.match(/MQQBrowser\/(\d+\.\d+)/i),c=a.match(/QQ\/(\d+\.(\d+)\.(\d+)\.(\d+))/i),d=a.match(/MicroMessenger\/((\d+)\.(\d+))\.(\d+)/)||a.match(/MicroMessenger\/((\d+)\.(\d+))/),f=a.match(/MiuiBrowser\/(\d+\.\d+)/i),g=a.match(/UCBrowser\/(\d+\.\d+(\.\d+\.\d+)?)/)||a.match(/\sUC\s/),h=a.match(/IEMobile(\/|\s+)(\d+\.\d+)/),i=a.match(/(ipod\sOS)\s([\d_]+)/),j=0/0;return window.ActiveXObject?(j=6,(window.XMLHttpRequest||a.indexOf(&quot;MSIE 7.0&quot;)&gt;-1)&amp;&amp;(j=7),(window.XDomainRequest||a.indexOf(&quot;Trident/4.0&quot;)&gt;-1)&amp;&amp;(j=8),a.indexOf(&quot;Trident/5.0&quot;)&gt;-1&amp;&amp;(j=9),a.indexOf(&quot;Trident/6.0&quot;)&gt;-1&amp;&amp;(j=10)):a.indexOf(&quot;Trident/7.0&quot;)&gt;-1&amp;&amp;(j=11),i&amp;&amp;(j=i[2].replace(/_/g,&quot;.&quot;)),b&amp;&amp;(j=b[1]),c&amp;&amp;(j=c[1]),d&amp;&amp;(j=d[1]),f&amp;&amp;(j=f[1]),g&amp;&amp;(j=g[1]||0/0),!b||window.mtt&amp;&amp;window.mtt.getBrowserParam||!e.IsAndroid||(j=&quot;9.6.0&quot;),h&amp;&amp;(j=h[2]),j};e.BrowserVersion=i();var j=function(){var a=e.UA,b=0/0;if(d.os&amp;&amp;d.os.version)b=d.os.version;else{var c=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),f=a.match(/(Android);?[\s\/]+([\d.]+)?/),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&amp;&amp;a.match(/(iPhone\sOS)\s([\d_]+)/),j=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),k=a.match(/Kindle\/([\d.]+)/),l=a.match(/(BlackBerry).*Version\/([\d.]+)/),m=a.match(/(BB10).*Version\/([\d.]+)/),n=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/);c&amp;&amp;(b=c[1]),f&amp;&amp;(b=f[2]),i&amp;&amp;!h&amp;&amp;(b=i[2].replace(/_/g,&quot;.&quot;)),g&amp;&amp;(b=g[2].replace(/_/g,&quot;.&quot;)),h&amp;&amp;(b=h[3]?h[3].replace(/_/g,&quot;.&quot;):null),j&amp;&amp;(b=j[2]),l&amp;&amp;(b=l[2]),m&amp;&amp;(b=m[2]),n&amp;&amp;(b=n[2]),k&amp;&amp;(b=k[1])}return b};e.OsVersion=j(),e.IsMIOne=/MI-ONE/i.test(e.UA),e.IsXiaoMI=/MI/i.test(e.UA),e.IsVivoPhone=/vivo/i.test(e.UA),e.IsSonyPhone=/Sony/i.test(e.UA),e.IsSAMSUNG=/SAMSUNG/i.test(e.UA),e.IsSAMSUNGNote3=/SAMSUNG SM-N90/i.test(e.UA),e.START_EVENT=e.IsTouch?&quot;touchstart&quot;:&quot;mousedown&quot;,e.MOVE_EVENT=e.IsTouch?&quot;touchmove&quot;:&quot;mousemove&quot;,e.END_EVENT=e.IsTouch?&quot;touchend&quot;:&quot;mouseup&quot;,e.CANCEL_EVENT=e.IsTouch?&quot;touchcancel&quot;:&quot;mouseup&quot;,e.RESIZE_EVENT=&quot;onorientationchange&quot;in window?&quot;orientationchange&quot;:&quot;resize&quot;,e.IsShouSou=location.host.indexOf(&quot;m.sohu.com&quot;)&gt;-1,e.IS_EXTERNAL_PLAYER=location.href.match(/player=1/i)||e.IsShouSou,e.WebRoot=&quot;&quot;,&quot;m.s.sohu.com&quot;===location.host&amp;&amp;(e.WebRoot=&quot;http://m.tv.sohu.com&quot;),e.BlankFn=function(){},e.H5Channeled=e.IsWeixinBrowser?&quot;1200230001&quot;:&quot;1211010100&quot;,e.IsHistorySupport=&quot;pushState&quot;in history,e.ADPingbackCount=0,e.IsClient=/SohuVideoMobile/i.test(e.UA),e.H5Src=f(&quot;src&quot;)||f(&quot;SRC&quot;)||&quot;&quot;,c.exports=e,window.svp.VARS=e}),svp.define(&quot;trace.click&quot;,function(a,b,c){var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.util&quot;),g=a(&quot;trace&quot;),h={pingback:function(a,b,c){b=b||a&amp;&amp;a.attr(&quot;position&quot;)||&quot;&quot;;var h=window.VideoData||window.videoData||{},i={},j=g.getChanneled(),k=g.getVideoData(&quot;vid&quot;)||&quot;&quot;,l=h.plid||h.aid||h.sid||&quot;&quot;,m=location.href||&quot;http://m.tv.sohu.com/&quot;;c=c||a&amp;&amp;a.attr(&quot;details&quot;)||&quot;&quot;;try{e.IsWeixinBrowser&amp;&amp;&quot;1211110100&quot;!=j&amp;&amp;&quot;1211110200&quot;!=j&amp;&amp;(j=&quot;1211110001&quot;),i={t:+new Date,uid:g.getUid(),position:b,op:&quot;click&quot;,details:JSON.stringify(c),nid:g.getVideoData(&quot;nid&quot;)||&quot;&quot;,url:encodeURIComponent(m),refer:encodeURIComponent(document.referrer||&quot;http://m.tv.sohu.com/&quot;),screen:g.getScreenSize(),os:g.getOS(),platform:g.getPlatform(),passport:g.getPassport(),vid:k||&quot;&quot;,pid:l||&quot;&quot;,channeled:j,MTV_SRC:encodeURIComponent(g.getChannelSrc())}}catch(n){console.log(&quot;trace click exception &quot;,n)}f.pingback(&quot;http://z.m.tv.sohu.com/h5_cc.gif?&quot;+d.param(i))}};window.ClickTrace=h,c.exports=h}),svp.define(&quot;trace&quot;,function(a,b,c){var d=(svp.$,a(&quot;base.vars&quot;)),e=a(&quot;base.util&quot;),f=a(&quot;base.url&quot;),g=a(&quot;base.cookie&quot;),h=a(&quot;base.passport&quot;),i=d.ScreenSize,j=window.navigator.userAgent,k=h.getPassport(),l=function(){if(d.IsIOS)return&quot;ios&quot;;if(d.IsAndroid)return&quot;android&quot;;var a=&quot;Win32&quot;==navigator.platform||&quot;Win64&quot;==navigator.platform||&quot;Windows&quot;==navigator.platform,b=&quot;Mac68K&quot;==navigator.platform||&quot;MacPC&quot;==navigator.platform||&quot;Macintosh&quot;==navigator.platform||&quot;MacIntel&quot;==navigator.platform;if(b)return&quot;Mac&quot;;var c=&quot;X11&quot;==navigator.platform&amp;&amp;!a&amp;&amp;!b;if(c)return&quot;Unix&quot;;var e=String(navigator.platform).indexOf(&quot;Linux&quot;)&gt;-1;if(e)return&quot;Linux&quot;;if(a){var f=j.indexOf(&quot;Windows NT 5.0&quot;)&gt;-1||j.indexOf(&quot;Windows 2000&quot;)&gt;-1;if(f)return&quot;Win2000&quot;;var g=j.indexOf(&quot;Windows NT 5.1&quot;)&gt;-1||j.indexOf(&quot;Windows XP&quot;)&gt;-1;if(g)return&quot;WinXP&quot;;var h=j.indexOf(&quot;Windows NT 5.2&quot;)&gt;-1||j.indexOf(&quot;Windows 2003&quot;)&gt;-1;if(h)return&quot;Win2003&quot;;var i=j.indexOf(&quot;Windows NT 6.0&quot;)&gt;-1||j.indexOf(&quot;Windows Vista&quot;)&gt;-1;if(i)return&quot;WinVista&quot;;var k=j.indexOf(&quot;Windows NT 6.1&quot;)&gt;-1||j.indexOf(&quot;Windows 7&quot;)&gt;-1;if(k)return&quot;Win7&quot;;var l=j.indexOf(&quot;Windows NT 6.2&quot;)&gt;-1||j.indexOf(&quot;Windows 8&quot;)&gt;-1;if(l)return&quot;Win8&quot;}return d.IsWindows?&quot;windows&quot;:&quot;other&quot;},m=function(){if(d.IsIOS)return d.IsIPad?&quot;ipad&quot;:&quot;iphone&quot;;if(d.IsAndroid)return d.IsAndroidPad?&quot;androidpad&quot;:&quot;android&quot;;if(d.IsWindowsPhone)return&quot;windowsphone&quot;;if(d.IsWindows){var a=&quot;Win32&quot;==navigator.platform||&quot;Windows&quot;==navigator.platform,b=j.indexOf(&quot;WOW64&quot;)&gt;-1||j.indexOf(&quot;Win64&quot;)&gt;-1;return a&amp;&amp;b?&quot;Win64&quot;:&quot;Win32&quot;}return navigator.platform},n={getUid:function(){return g.get(&quot;SUV&quot;)||&quot;&quot;},getClientUid:function(){return n.getQueryString(&quot;uid&quot;)||&quot;&quot;},getScreenSize:function(){return i},getPassport:function(){return k},getOS:function(){return l()},getPlatform:function(){return m()},getVideoData:function(a){var b=window.VideoData||window.videoData||{};return b[a]||&quot;&quot;},getQueryString:function(a){var b=new RegExp(&quot;(^|&amp;?)&quot;+a+&quot;=([^&amp;]*)(&amp;|$)&quot;,&quot;i&quot;),c=window.location.search.substr(1).match(b);return null!==c?unescape(c[2]):&quot;&quot;},getChannelSrc:function(){var a=n.getQueryString(&quot;src&quot;)||n.getQueryString(&quot;SRC&quot;)||g.get(&quot;MTV_SRC&quot;)||&quot;0&quot;;a=a.replace(&quot;|&quot;,&quot;&quot;).replace(&quot;%7C&quot;,&quot;&quot;);

var b=/(\d+).(\d+).(\d+).(\d+)/i.test(window.document.domain);return&quot;0&quot;==a&amp;&amp;d.IsWeixinBrowser&amp;&amp;(a=&quot;11040001&quot;),&quot;0&quot;!=a||!b&amp;&amp;&quot;&quot;!==window.document.domain||(a=&quot;11050001&quot;),a},getChanneled:function(){var a=window.VideoData||window.videoData||{},b=n.getQueryString(&quot;src&quot;)||n.getQueryString(&quot;SRC&quot;)||&quot;&quot;;b=b.replace(&quot;|&quot;,&quot;&quot;).replace(&quot;%7C&quot;,&quot;&quot;);var c=&quot;1212120001&quot;;b&amp;&amp;(c=&quot;1212130001&quot;);var e=g.get(&quot;_channeled&quot;)||c,h=location.href||&quot;http://m.tv.sohu.com/&quot;;try{e=h.indexOf(&quot;hots&quot;)&gt;-1||&quot;undefined&quot;!=typeof videoDataFirst&amp;&amp;videoDataFirst?a.channeled||n.getQueryString(&quot;channeled&quot;)||e:n.getQueryString(&quot;channeled&quot;)||a.channeled||e,d.IsWeixinBrowser&amp;&amp;&quot;1211110100&quot;!=e&amp;&amp;&quot;1211110200&quot;!=e&amp;&amp;(e=&quot;1211110001&quot;),&quot;sogou&quot;==f.getQueryString(&quot;from&quot;)&amp;&amp;(e=&quot;1200150001&quot;)}catch(i){console.log(i)}return e},getConnectionType:function(){return e.getConnectionType()||&quot;&quot;}};console.log(n),window.Trace=n,c.exports=n}),svp.define(&quot;trace.pv&quot;,function(a,b,c){var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.util&quot;),g=(a(&quot;base.url&quot;),a(&quot;trace&quot;)),h=(a(&quot;base.cookie&quot;),a(&quot;base.passport&quot;),{pv:function(a){var b={};a=a||{};var c=window.VideoData||window.videoData||{},h=g.getChanneled();a&amp;&amp;&quot;undefined&quot;!=typeof a.channeled&amp;&amp;(h=a.channeled);var i=(c.vid||&quot;&quot;,location.href||&quot;http://m.tv.sohu.com/&quot;),j=c.plid||c.aid||c.sid||&quot;&quot;;try{b={url:encodeURIComponent(i),refer:encodeURIComponent(document.referrer||&quot;http://m.tv.sohu.com/&quot;),uid:g.getUid(),webtype:g.getConnectionType(),screen:g.getScreenSize(),catecode:g.getVideoData(&quot;cateCode&quot;)||g.getVideoData(&quot;cate_code&quot;)||&quot;&quot;,pid:j,vid:g.getVideoData(&quot;vid&quot;)||&quot;&quot;,os:g.getOS(),platform:g.getPlatform(),passport:g.getPassport(),t:+new Date,channeled:h,MTV_SRC:encodeURIComponent(g.getChannelSrc())}}catch(k){console.log(&quot;trace pv exception &quot;,k)}e.ENABLE_DEBUG&amp;&amp;console.log(&quot;trace pv &quot;,b),f.pingback(&quot;http://z.m.tv.sohu.com/pv.gif?&quot;+d.param(b))}});h.iwt=function(){f.loadScript(&quot;http://tv.sohu.com/upload/Trace/iwt-min.js&quot;,function(){console.log(&quot;iwt-min pv http://tv.sohu.com/upload/Trace/iwt-min.js&quot;)})},h.comscore=function(){var a=(&quot;https:&quot;==document.location.protocol?&quot;https://sb&quot;:&quot;http://b&quot;)+&quot;.scorecardresearch.com/beacon.js&quot;;f.loadScript(a,function(){console.log(&quot;comscore pv scorecardresearch.com/beacon.js&quot;),&quot;undefined&quot;!=typeof window.COMSCORE&amp;&amp;window.COMSCORE.beacon({c1:&quot;2&quot;,c2:&quot;7395122&quot;,c3:&quot;&quot;,c4:&quot;&quot;,c5:&quot;&quot;,c6:&quot;&quot;,c15:&quot;&quot;})})},h.wrating=function(){&quot;m.s.sohu.com&quot;===location.host?f.loadScript(&quot;http://js.sohu.com/wrating20120726.js&quot;,function(){var a;try{a=window._getAcc()}catch(b){}a&amp;&amp;f.loadScript(&quot;http://sohu.wrating.com/a1.js&quot;,function(){window.vjAcc=a,window.wrUrl=&quot;http://sohu.wrating.com/&quot;;try{if(!0===window.vjValidateTrack()){var b=window.wrUrl+&quot;a.gif&quot;+window.vjGetTrackImgUrl();d(document.body).append(&#x27;&lt;div style=&quot;display:none&quot;&gt;&lt;img src=&quot;&#x27;+b+&#x27;&quot; id=&quot;wrTagImage&quot; /&gt;&lt;/div&gt;&#x27;),window.vjSurveyCheck()}}catch(c){}})}):f.loadScript(&quot;http://tv.sohu.com/upload/Trace/wrating.js&quot;,function(){console.log(&quot;wrating pv http://tv.sohu.com/upload/Trace/wrating.js&quot;)})},h.init=function(a){var b=a||{isAutoTrace:!0},c=e.IsAutoTrace||b.isAutoTrace||!0;window._iwt_UA=&quot;UA-sohu-123456&quot;,e.IS_EXTERNAL_PLAYER||d(document).ready(function(){c&amp;&amp;h.pv(b),h.iwt(),h.comscore(),h.wrating()})},d(function(){h.init()}),window.TracePV=h,c.exports=h}),svp.define(&quot;trace.rate&quot;,function(a){var b=svp.$,c=a(&quot;base.cookie&quot;),d=a(&quot;base.util&quot;),e=a(&quot;base.vars&quot;),f=a(&quot;base.url&quot;),g={mode:&quot;man&quot;,apiURL:&quot;&quot;,hotURL:&quot;&quot;,disURLQueue:[],videoTsCount:0,urlTimeoutTimers:{},urlTimeoutURLs:{},id:0,videoData:window.VideoData||window.videoData||{},init:function(){&quot;undefined&quot;!=typeof player&amp;&amp;player.videoData&amp;&amp;(this.videoData=player.videoData),null!==f.getQueryString(&quot;r&quot;)&amp;&amp;this.videoData&amp;&amp;(b(&quot;.main_container&quot;).prepend(&#x27;&lt;div class=&quot;rate_test&quot;&gt;&lt;span class=&quot;button&quot;&gt;速度测试&lt;/span&gt;&lt;span class=&quot;tip&quot;&gt;UID: &#x27;+(c.get(&quot;SUV&quot;)||&quot;-&quot;)+&quot;&lt;/span&gt;&lt;div&gt;&lt;/div&gt;&lt;/div&gt;&quot;),b(&quot;.rate_test .button&quot;).on(&quot;click&quot;,function(){var a=b(this),c=&quot;disabled&quot;;a.hasClass(c)||(a.addClass(c),g.startTest(&quot;man&quot;))}))},startTest:function(a){g.mode=a,b(&quot;.rate_test div&quot;).html(&quot;&quot;),this.videoData=window.VideoData?window.VideoData:player&amp;&amp;player.videoData?player.videoData:{},window.callback_test=function(){},g.addTitle(&quot;OpenAPI&quot;),g.apiURL=&quot;http://api.tv.sohu.com/video/playinfo/&quot;+this.videoData.vid+&quot;.json?api_key=&quot;+e.API_KEY+&quot;&amp;plat=6&amp;sver=2.8&amp;partner=999&amp;c=1&amp;sid=0&amp;&amp;callback=callback_test&quot;,g.addURLItem(g.apiURL);var c,d,f=g.id++,h=new Date,i=0;try{var j=this.videoData.urls.m3u8;c=j.hig||j.nor||j.sup||[]}catch(k){c=[]}for(var l=c.length;l&gt;i;i++)if(c[i]){d=c[i];break}d&amp;&amp;(g.hotURL=d,g.addTitle(&quot;Hot VRS&quot;),b(&quot;.rate_test div&quot;).append(g.getItemHTML(f,d)),d.match(/\.m3u8/i)&amp;&amp;(d=d.replace(/http:\/\/[^\/]+/i,&quot;/hot_vrs&quot;)),b.ajax({url:d,type:&quot;get&quot;,dataType:&quot;text&quot;,success:function(a){if(a){var c,d,e=a.match(/(http:\/\/[^\s]+)/gi)||[],i=0,j=e.length;if(g.videoTsCount=j,j&gt;0){for(g.URLLoaded(f,h,g.hotURL),g.addTitle(&quot;m3u8 (&quot;+j+&quot;)&quot;,&quot;rate_test_video&quot;),i=0,j=e.length;j&gt;i;i++)d=&quot;m3u8callback_&quot;+i,c=e[i].replace(/http:\/\/[^\/]+/i,&quot;http://data.vod.itc.cn&quot;)+&quot;&amp;prot=2&amp;callback=&quot;+d+&quot;&amp;id=&quot;+g.id++,window[d]=function(a){var b=a.url,c=this.url,d=(c.match(/&amp;id=([0-9]+)/i)||[])[1];if(b){var e=new Date,f=g.addURLItem(b,d,g.requestNextDisURL);g.urlTimeoutTimers[b]=setTimeout(function(){g.URLLoaded(f,e,b,d,null,!0),g.requestNextDisURL()},3e4)}}.bind({url:c}),g.disURLQueue.push(c);g.addURLItem(g.disURLQueue.shift())}else{var k=b(&quot;.rate_test .item_&quot;+f).addClass(&quot;error&quot;);b(&quot;time&quot;,k).html(&quot;!&quot;)}}}}))},requestNextDisURL:function(){var a=g.disURLQueue.shift(),c=&quot;#rate_test_video&quot;,d=b(&quot;.rate_test .item .loaded&quot;).length;a&amp;&amp;g.addURLItem(a,null,null,c),b(c).html(&quot;m3u8 (&quot;+d+&quot;/&quot;+g.videoTsCount+&quot;)&quot;),d==g.videoTsCount&amp;&amp;b(&quot;.rate_test .button&quot;).removeClass(&quot;disabled&quot;)},addURLItem:function(a,c,e,f){var h=(a.match(/&amp;id=([0-9]+)/i)||[])[1];return h||(h=g.id++),c?b(&quot;.rate_test .item_&quot;+c).append(g.getItemHTML(h,a,c)):f?b(f).after(g.getItemHTML(h,a)):b(&quot;.rate_test div&quot;).append(g.getItemHTML(h,a)),d.loadScript(a,g.URLLoaded,[h,new Date,a,c,e]),h},getItemHTML:function(a,b){return&#x27;&lt;p class=&quot;item item_&#x27;+a+&#x27;&quot;&gt;&lt;time&gt;...&lt;/time&gt;&lt;span&gt;&#x27;+b+&quot;&lt;/span&gt;&lt;/p&gt;&quot;},URLLoaded:function(a,e,f,h,i,j){var k=g.urlTimeoutTimers[f];if(k&amp;&amp;(clearTimeout(k),delete g.urlTimeoutTimers[f]),!(f in g.urlTimeoutURLs)){j&amp;&amp;(g.urlTimeoutURLs[f]=1);var l=b(&quot;.rate_test .item_&quot;+a).addClass(j?&quot;error&quot;:&quot;loaded&quot;),m=&quot;&quot;,n=&quot;&quot;,o=&quot;&quot;,p=((new Date-e)/1e3).toFixed(2);b(&quot;time&quot;,l).eq(0).html(j?&quot;!&quot;:p+&quot; s&quot;),h&amp;&amp;(m=b(&quot;.rate_test .item_&quot;+h+&quot; span&quot;).html().replace(/&amp;amp;/g,&quot;&amp;&quot;)),(n=f.match(/cip=([0-9\.]+)/i))&amp;&amp;(n=n[1],o=f.match(/http:\/\/([^\/]+)/i)[1]);var f=[&quot;http://sptjs1.hd.sohu.com.cn/h5/tttst.html&quot;,&quot;?mode=&quot;,g.mode,&quot;&amp;uid=&quot;,c.get(&quot;SUV&quot;)||&quot;&quot;,&quot;&amp;api=&quot;,encodeURIComponent(g.apiURL),&quot;&amp;hotvrs=&quot;,encodeURIComponent(g.hotURL),&quot;&amp;disp=&quot;,encodeURIComponent(m),&quot;&amp;url=&quot;,encodeURIComponent(f),&quot;&amp;clientip=&quot;,n,&quot;&amp;cdnip=&quot;,o,&quot;&amp;speed=&quot;,p,j?&quot;&amp;timeout&quot;:&quot;&quot;].join(&quot;&quot;);d.pingback(f),i&amp;&amp;i()}},addTitle:function(a,c){b(&quot;.rate_test div&quot;).append(&#x27;&lt;p class=&quot;title&quot; id=&quot;&#x27;+c+&#x27;&quot;&gt;&#x27;+a+&quot;&lt;/p&gt;&quot;)}};b(function(){g.init()})}),svp.define(&quot;trace.refer&quot;,function(a,b,c){var d=svp.$,e=a(&quot;base.vars&quot;),f=(a(&quot;base.util&quot;),a(&quot;base.url&quot;)),g=a(&quot;base.cookie&quot;),h={};h.SrcSettings={1104:/^wx\.m\.tv\.sohu\.com$/i,1106:/^tv\.sohu\.com$|^pad\.tv\.sohu\.com$/i,1107:/^my\.tv\.sohu\.com$/i,1108:/^sports\.sohu\.com$/i,1105:/^(m|wap|s|3g)\.(tv|s)\.sohu\.com$|^(t|t1|t2)\.m\.tv\.sohu\.com$|^sohutv\.hao3608\.com$/i,1109:/^(news|auto|media|www|yule|mil)\.sohu\.com$/i,1001:/^m\.sohu\.com$|^(3g|zhibo|wap)\.sohu\.com$|^(.*)m\.sohu\.com$|^m\.club\.sohu\.com$|^api\.k\.sohu\.com$/i,1110:/^(.*)\.baidu\.com$|^(.*)baidu\.mobi$|^webapp\.cbs\.baidu\.com$/i,1112:/^(.*)hao123\.com$/i,1113:/^v\.m\.liebao\.cn$|^v\.duba\.com$/i,1114:/^(.*)2345\.com$/i,1115:/^v\.sogou\.com$|^m\.kan\.sogou\.com$|^tv\.sogou\.com$/i,1068:/^sogou\.com$|^(.*)\.sogou\.com$/i,1116:/^(.*)sm\.cn$|^(.*)uodoo\.com$/i,1006:/^tv\.uc\.cn$/i,1007:/^hao\.uc\.cn$/i,1117:/^(news|inews)\.uc\.cn$/i,1033:/^m\.video\.so\.com$/i,1075:/^(.*)(so|haosou)\.com$/i,1118:/^(.*)weibo\.com$|^(.*)weibo\.cn$/i,1119:/^(.*)qzone\.qq\.com$/i,1120:/^(.*)10086\.cn$/i,1123:/^(.*)(google|g).(.*)$/i,1121:/^(.*)wapreach\.com$|^(.*)\.app111\.com$|^(.*)homeinns\.cc$|^(hao|hao123|m)\.xiaomi\.com$/i,1122:/^video\.wapreach\.com$|^video\.browser\.miui\.com$|^v\.html5\.qq\.com$|^kanpian\.easou\.com$|^video\.nearme\.com\.cn$/i,1124:/^(.*)soso\.com$|^(.*)easou\.com$|^(.*)bing\.com$/i},h.getUrlHost=function(a){var b=a||&quot;&quot;,c=/.*:\/\/([^\/]*).*/i,d=b.match(c),e=&quot;&quot;;return d&amp;&amp;(e=d[1]),e},h.getReferHost=function(a){var b=a||document.referrer,c=/.*:\/\/([^\/]*).*/i,d=b.match(c),e=&quot;&quot;;d&amp;&amp;(e=d[1]);var f=/(\d+).(\d+).(\d+).(\d+)/i.test(e);return(f||!e)&amp;&amp;(e=&quot;&quot;),e},h.getRefer=function(){var a=document.referrer;return&quot;undefined&quot;==typeof a&amp;&amp;(a=&quot;&quot;),a},h.matchRefer=function(a,b){var c=&quot;&quot;;try{a=a.replace(/^http:\/\//,&quot;&quot;);var d=b;&quot;undefined&quot;==typeof d&amp;&amp;(d=h.SrcSettings);for(var e in d){var f=d[e];if(f&amp;&amp;a&amp;&amp;f.test(a)){c=e,console.log(&quot;matchRefer &quot;+a+&quot; , &quot;+e+&quot; &quot;+f);break}}}catch(g){console.log(g)}return c},h.setSrcChanneled=function(){var a={MTV_SRC:&quot;&quot;,channeled:&quot;&quot;},b=f.getQueryString(&quot;src&quot;)||f.getQueryString(&quot;SRC&quot;)||&quot;&quot;;h5Src=b,h5Src&amp;&amp;g.set(&quot;MTV_SRC&quot;,h5Src,86400,&quot;.sohu.com&quot;);var c=f.getQueryString(&quot;channeled&quot;)||&quot;&quot;,d=h.getRefer()||&quot;&quot;,i=h.getReferHost(d)||h.getUrlHost(window.location.href)||&quot;&quot;;console.log(&quot;get referhost &quot;+i+&quot;   &quot;+c),c=c?c||&quot;1212120001&quot;:b?&quot;1212130001&quot;:i.indexOf(&quot;m.sohu.com&quot;)&gt;-1?&quot;1200110001&quot;:&quot;1212120001&quot;,h5Src?b=h5Src:(i&amp;&amp;(b=h.matchRefer(i,h.SrcSettings),b.length&lt;8&amp;&amp;b&gt;=4&amp;&amp;(b=b=b.substring(0,4)+&quot;0001&quot;)),b||(b=&quot;11050001&quot;)),/^wx\.m\.tv\.sohu\.com$/i.test(document.domain)&amp;&amp;e.IsWeixinBrowser&amp;&amp;(b=&quot;11040001&quot;,c=&quot;1211110001&quot;,a.MTV_SRC=b,a.channeled=c,g.set(&quot;MTV_SRC&quot;,b,86400,&quot;.sohu.com&quot;),g.set(&quot;_channeled&quot;,c,86400,&quot;.sohu.com&quot;),console.log(&quot;is weixin &quot;+b+&quot;   &quot;+c));var j=g.get(&quot;MTV_SRC&quot;)||&quot;&quot;;return!j&amp;&amp;b&amp;&amp;(a.MTV_SRC=b,g.set(&quot;MTV_SRC&quot;,b,86400,&quot;.sohu.com&quot;)),c&amp;&amp;(a.channeled=c,g.set(&quot;_channeled&quot;,c,86400,&quot;.sohu.com&quot;)),h5Src=g.get(&quot;MTV_SRC&quot;)||b,a.MTV_SRC=h5Src,console.log(&quot;traceRefer.js MTV_SRC:&quot;+h5Src+&quot;,_channeled:&quot;+c),a},h.init=function(){var a={};try{a=h.setSrcChanneled()}catch(b){console.log(b)}console.log(&quot;traceRefer matchRefer &quot;+JSON.stringify(a))},d(function(){h.init()}),window.traceRefer=h,c.exports=h}),svp.define(&quot;trace.video&quot;,function(a,b,c){var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.cookie&quot;),g=a(&quot;base.util&quot;),h=a(&quot;trace&quot;),i=a(&quot;base.url&quot;),j=a(&quot;trace.rate&quot;),k={t:+new Date,playId:+new Date,inited:!1,init:function(){var a=44,b=window.VideoData||window.videoData||{},c=&quot;&quot;;e.IsIPad?(a=4,c=&quot;1h5&quot;):e.IsIphone?(a=41,c=&quot;3h5&quot;):e.IsAndroid?(a=42,c=&quot;6h5&quot;):e.IsWindowsPhone?(a=43,c=&quot;11h5&quot;):e.IsIEMobile&amp;&amp;(a=43),k.qcPlat=c,k.platType=a,k.qfDomain=(Math.random()&gt;.5?&quot;qf1&quot;:&quot;qf2&quot;)+&quot;.hd.sohu.com.cn&quot;,k.qcURL=null!==i.getQueryString(&quot;r&quot;)&amp;&amp;b?&quot;http://sptjs1.hd.sohu.com.cn/h5/tttst.html&quot;:&quot;http://qc.hd.sohu.com.cn/caton/video/&quot;,k.inited=!0},qcPingback:function(a){if(!1===k.inited&amp;&amp;k.init(),&quot;1h5&quot;!=k.qcPlat){var b=&quot;&quot;,c=&quot;&quot;,d=window.VideoData||window.videoData||{},i=d.video_src||&quot;&quot;,j=d.plid||d.aid||d.sid||&quot;&quot;;e.IsIOS?b=1:e.IsAndroid?b=2:e.IsWindowsPhone&amp;&amp;(b=3),e.IsIPad?c=&quot;ipad&quot;:e.IsIpod?c=&quot;ipod&quot;:e.IsIPhone?c=&quot;iphone&quot;:e.IsWindowsPhone&amp;&amp;(c=&quot;windowsphone&quot;);var l=&quot;&quot;;i.match(/\.m3u8/i)?l=&quot;m3u8&quot;:i.match(/\.mp4/i)&amp;&amp;(l=&quot;mp4&quot;),a+=[&quot;&amp;uid=&quot;,f.get(&quot;SUV&quot;)||&quot;&quot;,&quot;&amp;poid=&quot;,&quot;&amp;plat=&quot;,k.qcPlat,&quot;&amp;sver=&quot;,&quot;&amp;os=&quot;,b,&quot;&amp;sysver=&quot;,g.getOSVersion(),&quot;&amp;net=&quot;,h.getConnectionType(),&quot;&amp;playmode=&quot;,&quot;&amp;vid=&quot;,d.vid||&quot;&quot;,&quot;&amp;sid=&quot;,j,&quot;&amp;vtype=&quot;,l,&quot;&amp;pn=&quot;,c,&quot;&amp;duFile=&quot;,encodeURIComponent(i),&quot;&amp;version=&quot;,d.videoVersion||0,&quot;&amp;isp2p=0&quot;,&quot;&amp;ltype=0&quot;,&quot;&amp;site=&quot;,d.site||&quot;1&quot;,&quot;&amp;time=&quot;,+new Date].join(&quot;&quot;),g.pingback(k.qcURL+&quot;?&quot;+a)}},parseChanneledJson:function(){var a={},b=window.VideoData||window.videoData||{},c=h.getChanneled(),d=(b.vid||&quot;&quot;,location.href||&quot;http://m.tv.sohu.com/&quot;);return a.channeled=c||&quot;1212120001&quot;,a.href=d,a.clientUid=h.getClientUid(),a},qfPingback:function(a){!1===k.inited&amp;&amp;k.init();var b=window.VideoData||window.videoData||{};a+=[&quot;&amp;seekto=0&quot;,&quot;&amp;pt=&quot;,k.platType,&quot;&amp;sid=&quot;,f.get(&quot;SUV&quot;)||&quot;&quot;,&quot;&amp;vid=&quot;,b.vid||&quot;&quot;,&quot;&amp;nid=&quot;,b.nid||&quot;&quot;,&quot;&amp;ref=&quot;,encodeURIComponent(location.href),&quot;&amp;dom=&quot;,&quot;&amp;t=&quot;,k.t++].join(&quot;&quot;),g.pingback(&quot;http://&quot;+k.qfDomain+&quot;/dov.do?method=stat&quot;+a)},DMPingbackNew:function(a,b){var c=window.VideoData||window.videoData||{},f=k.parseChanneledJson(),i=f.channeled,j=f.href||location.href,l=c.plid||c.aid||c.sid||&quot;&quot;;a=d.extend({url:j,refer:document.referrer||&quot;http://m.tv.sohu.com/&quot;,uid:h.getUid(),webtype:h.getConnectionType(),screen:h.getScreenSize(),catecode:h.getVideoData(&quot;cateCode&quot;),pid:l,vid:h.getVideoData(&quot;vid&quot;),cateid:h.getVideoData(&quot;cid&quot;),ltype:h.getVideoData(&quot;ltype&quot;),company:h.getVideoData(&quot;company&quot;),version:&quot;0&quot;,type:&quot;9001&quot;==h.getVideoData(&quot;cid&quot;)?&quot;my&quot;:&quot;vrs&quot;,td:h.getVideoData(&quot;totalDuration&quot;)||h.getVideoData(&quot;total_duration&quot;)||0,apikey:e.API_KEY,t:+new Date,os:h.getOS(),platform:h.getPlatform(),passport:h.getPassport(),channeled:i,site:c.site||&quot;1&quot;,playid:k.playId,nid:c.nid||&quot;&quot;,MTV_SRC:encodeURIComponent(h.getChannelSrc())},a),g.pingback((b||&quot;http://z.m.tv.sohu.com/vv.gif&quot;)+&quot;?&quot;+d.param(a)),window.flashStatistId&amp;&amp;(a.channeled=window.flashStatistId,g.pingback((b||&quot;http://z.m.tv.sohu.com/vv.gif&quot;)+&quot;?&quot;+d.param(a)))},vv:function(){var a=window.VideoData||window.videoData||{},b=10;b=&quot;undefined&quot;!=typeof a&amp;&amp;&quot;undefined&quot;!=typeof a.duration?a.duration:10,k.qfPingback(&quot;&amp;error=0&amp;code=2&amp;allno=0&amp;vvmark=1&amp;totTime=&quot;+b),e.IS_EXTERNAL_PLAYER||g.pingback(&quot;http://b.scorecardresearch.com/b?c1=1&amp;c2=7395122&amp;c3=&amp;c4=&amp;c5=&amp;c6=&amp;c11=&quot;+(f.get(&quot;SUV&quot;)||&quot;&quot;)),k.DMPingbackNew({site:a.site||&quot;1&quot;,msg:&quot;playCount&quot;,time:&quot;0&quot;}),k.playId=+new Date,k.qcPingback(&quot;code=10&amp;duation=0&quot;)},realVV:function(a){{var b=a?(+new Date-a)/1e3:0;window.VideoData||window.videoData||{}}k.DMPingbackNew({msg:&quot;videoStart&quot;,time:(+new Date-k.playId)/1e3}),k.qcPingback(&quot;code=5&amp;duation=&quot;+b)},start:function(){var a=window.VideoData||window.videoData||{};ClickTrace.pingback(null,&quot;video_play_start&quot;,JSON.stringify({vid:a.vid})),k.qcPingback(&quot;code=15&quot;)},heart:function(a){k.DMPingbackNew({tc:a},&quot;http://z.m.tv.sohu.com/playtime.gif&quot;)},ended:function(a,b){k.DMPingbackNew({msg:&quot;videoEnds&quot;,time:a}),k.qcPingback(&quot;code=7&amp;duration=&quot;+a+&quot;&amp;ct=&quot;+b)},abort:function(){k.qfPingback(&quot;&amp;code=8&amp;error=800&amp;allno=1&amp;drag=-1&quot;)},error:function(a){k.qfPingback(&quot;&amp;error=500&amp;code=2&amp;allno=1&amp;vvmark=0&quot;),k.qcPingback(&quot;code=8&amp;duation=&quot;+(+new Date-a)/1e3+&quot;&amp;error=&quot;+(window.VideoData.video_src?&quot;1000&quot;:&quot;401&quot;))},buffer:function(a,b){var c=(+new Date-b)/1e3;(1==a||4==a)&amp;&amp;k.qfPingback(&quot;&amp;code=5&amp;bufno=1&amp;allbufno=&quot;+a),k.qcPingback(&quot;code=&quot;+(1==a?6:4)+&quot;&amp;ct=&quot;+a+&quot;&amp;duation=&quot;+c),null!==i.getQueryString(&quot;r&quot;)&amp;&amp;1==a&amp;&amp;&quot;undefined&quot;!=typeof j&amp;&amp;j.startTest(&quot;auto&quot;)},autoPlay:function(){k.qcPingback(&quot;code=30&quot;)},userClickPlay:function(){k.qcPingback(&quot;code=31&quot;)}};c.exports=k}),svp.albumInfo=svp.albumInfo||{},svp.define(&quot;data.album&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;data.apiAjaxLoader&quot;),f=a(&quot;base.util&quot;),g={loadVideos:function(a,b){var c={},g=a.aid||a.plid;(0===g||&quot;&quot;===g)&amp;&amp;(g=0),a.aid=a.plid=g,a.vid=0===a.vid||&quot;&quot;===a.vid?&quot;&quot;:a.vid,a.site=a.site||1,a.page_size=a.page_size||a.pageSize||20,a.with_trailer=a.with_trailer||0;var h={};h.api_key=a.api_key,h.plat=a.plat,h.sver=a.sver,h.partner=a.partner;var i=&quot;http://api.tv.sohu.com/v4/album/videos/&quot;+a.plid+&quot;.json?page_size=&quot;+a.page_size+&quot;&amp;with_trailer=&quot;+a.with_trailer;if(a.vid&amp;&amp;0!=a.vid&amp;&amp;&quot;&quot;!==a.vid?i+=&quot;&amp;vid=&quot;+a.vid+&quot;&amp;site=&quot;+(a.site||1):(a.page=a.page||1,i+=&quot;&amp;page=&quot;+a.page),a.cid&amp;&amp;0!=a.cid&amp;&amp;&quot;&quot;!==a.cid&amp;&amp;[76,7,13,24].indexOf(parseInt(a.cid,10))&gt;-1&amp;&amp;(i+=&quot;&amp;order=1&quot;),b&amp;&amp;d.isFunction(b)){var j=f.getFnName(b);i+=&quot;&amp;callback=?&amp;_cb=&quot;+j}e.loader({url:i,data:h,dataType:&quot;jsonp&quot;}).done(function(a){return c=a&amp;&amp;a.data?a:{},b&amp;&amp;d.isFunction(b)?void b(c):c})},loadInfo:function(a,b){var c={},g={};c.aid=a.aid||a.plid||0,c.api_key=a.api_key,c.plat=a.plat,c.sver=a.sver,c.partner=a.partner;var h=&quot;http://api.tv.sohu.com/v4/album/info/&quot;+c.aid+&quot;.json?_from=h5&quot;;if(b&amp;&amp;d.isFunction(b)){var i=f.getFnName(b);h+=&quot;&amp;callback=?&amp;_cb=&quot;+i}e.loader({url:h,data:c,dataType:&quot;jsonp&quot;}).done(function(a){return g=a&amp;&amp;a.data?a:{},svp.albumInfo=g,b&amp;&amp;d.isFunction(b)?void b(g):g})},loadSeriesByProgramId:function(a,b){var c={},g={};c.aid=a.aid||a.plid||0,c.program_id=a.program_id||0,c.api_key=a.api_key,c.plat=a.plat,c.sver=a.sver,c.partner=a.partner;var h=&quot;http://api.tv.sohu.com/v4/program/&quot;+c.program_id+&quot;.json?_from=h5&quot;;if(b&amp;&amp;d.isFunction(b)){var i=f.getFnName(b);h+=&quot;&amp;callback=?&amp;_cb=&quot;+i}e.loader({url:h,data:c,dataType:&quot;jsonp&quot;}).done(function(a){return g=a&amp;&amp;a.data?a:{},b&amp;&amp;d.isFunction(b)?void b(g):g})},loadSeriesDataByPlid:function(a,b){var c={},d=this;c.aid=a.aid||a.plid||0,c.program_id=a.program_id||0,c.api_key=a.api_key,c.plat=a.plat,c.sver=a.sver,c.partner=a.partner,c.page_size=50,c.page=1,d.loadInfo(c,function(a){c.page_size=a&amp;&amp;a.data&amp;&amp;a.data.latest_video_count?a.data.latest_video_count:50,d.loadVideos(c,b)})}};c.exports=g}),svp.define(&quot;data.apiAjaxLoader&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;data.apiCommon&quot;),f=[].slice,g=&quot;pending&quot;,h=&quot;resolved&quot;,i=&quot;rejected&quot;,j=function(a,b){return null!==a?a.hasOwnProperty(b):void 0},k=function(a){return a instanceof Array},l=function(a){return j(a,&quot;length&quot;)&amp;&amp;j(a,&quot;callee&quot;)},m=function(a){return l(a)?m(Array.prototype.slice.call(a)):k(a)?a.reduce(function(a,b){return k(b)?a.concat(m(b)):(a.push(b),a)},[]):[a]},n=function(a,b){return 0&gt;=a?b():function(){return--a&lt;1?b.apply(this,arguments):void 0}},o=function(a,b){return function(){var c;return c=[a].concat(Array.prototype.slice.call(arguments,0)),b.apply(this,c)}},p=function(a,b,c){var d,e,f,g,h;for(g=m(a),h=[],e=0,f=g.length;f&gt;e;e++)d=g[e],h.push(d.call.apply(d,[c].concat(Array.prototype.slice.call(b))));return h},q=function(){var a,b,c,d,e,j;return j=g,d=[],e=[],a=[],c={},this.promise=function(b){b=b||{},b.state=function(){return j};var f=function(a,d){return function(){return j===g&amp;&amp;d.push.apply(d,m(arguments)),a()&amp;&amp;p(arguments,c),b}};b.done=f(function(){return j===h},d),b.fail=f(function(){return j===i},e),b.always=f(function(){return j!==g},a);var k=function(a,c){var d=new q,e=function(a,b,c){return a(c?function(){return b(c.apply(null,m(arguments)))}:function(){return b.apply(null,m(arguments))})};return e(b.done,d.resolve,a),e(b.fail,d.reject,c),d};return b.pipe=k,b.then=k,b},this.promise(this),b=function(b,d,e){return function(){return j===g&amp;&amp;(j=b,c=arguments,p([d,a],c,e)),this}},this.resolve=b(h,d),this.reject=b(i,e),this.resolveWith=function(){var a=arguments[0],c=2&lt;=arguments.length?f.call(arguments,1):[];return b(h,d,a).apply(null,c)},this.rejectWith=function(){var a=arguments[0],c=2&lt;=arguments.length?f.call(arguments,1):[];return b(i,e,a).apply(null,c)},this},r=function(){var a,b,c,d,e,f,g,h;for(d=new q,b=m(arguments),c=n(b.length,d.resolve),e=0,g=b.length;g&gt;e;e++)a=b[e],a.done(c);for(f=0,h=b.length;h&gt;f;f++)a=b[f],a.fail(function(){return d.reject()});return d.promise()},s=function(a){return a.Deferred=function(){return new q},a.ajax=o(a.ajax,function(a,b){var c,d;return null===b&amp;&amp;(b={}),d=new q,c=function(a,b){return o(a,function(){var a=arguments[0],c=2&lt;=arguments.length?f.call(arguments,1):[];return a&amp;&amp;a.apply(null,c),b.apply(null,c)})},b.success=c(b.success,d.resolve),b.error=c(b.error,d.reject),a(b),d.promise()}),a.ajaxTolerate=o(a.ajax,function(a,b){var c=0,d=!1;null===b&amp;&amp;(b={});var e=new q,g=function(e,g,h){return o(e,function(){if(!d){var e=arguments[0],i=2&lt;=arguments.length?f.call(arguments,1):[];return h?1&gt;c?(c++,a(b),null):2===c?(c++,d=!0,e&amp;&amp;e.apply(null,i),g.apply(null,i)):(c++,null):(d=!0,e&amp;&amp;e.apply(null,i),g.apply(null,i))}})};return b.success=g(b.success,e.resolve),b.error=g(b.error,e.reject,!0),a(b),setTimeout(function(){d||a(b)},1e3),e.promise()}),a.when=r};s(d);var t={loader:function(a){var b=a.data||{};return d.each(e.API_PARAMS,function(a,c){b[a]||(b[a]=c)}),d.ajaxTolerate(a)},tolerate:d.ajaxTolerate};c.exports=t}),svp.define(&quot;data.apiCommon&quot;,function(a,b,c){&quot;use strict&quot;;var d=a(&quot;base.vars&quot;),e={API_KEY:d.API_KEY,API_URL:&quot;/api/&quot;,API_PARAMS:{api_key:d.API_KEY,plat:&quot;17&quot;,sver:&quot;1.0&quot;,partner:&quot;1&quot;}};c.exports=e}),svp.define(&quot;data.appDownload&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.util&quot;),g=a(&quot;base.cookie&quot;),h={channelSrc:&quot;0&quot;,updateTime:36e5,maxSaveCounts:10,getLocalData:function(a){var b=g.get(&quot;localChannelInfo&quot;),c=[],d=null;if(&quot;&quot;!==b&amp;&amp;null!==b&amp;&amp;(c=JSON.parse(b)),&quot;undefined&quot;!=typeof a){for(var e=0,f=c.length;f&gt;e;e++){var h=c[e];if(h.channelSrc===a&amp;&amp;Date.now()&lt;h.time+this.updateTime){d=h;break}}return d}return c},setLocalData:function(a){var b=d.extend({},a);b.time=Date.now();for(var c=this.getLocalData(),e=!1,f=0,h=c.length;h&gt;f;f++){var i=c[f];if(i.channelSrc===b.channelSrc){e=!0,i=b;break}}e||c.unshift(b),c.length&gt;this.maxSaveCounts&amp;&amp;(c.length=this.maxSaveCounts),g.set(&quot;localChannelInfo&quot;,JSON.stringify(c))},getChannelInfo:function(a,b){var c=this,g=a&amp;&amp;a.channelSrc?a.channelSrc:this.channelSrc;b=&quot;function&quot;==typeof b?b:function(){},(g+&quot;&quot;).length&gt;4&amp;&amp;(g=g.substr(0,4));var h={appointUrl:f.getSohuDefaultApplink(),startapp:&quot;1&quot;,channelSrc:g,cover:1,isClosed:0,timeLimit:0,channelNum:680,cid:&quot;&quot;,quality:&quot;nor,hig,sup&quot;};if(null!==this.getLocalData(g)){var i=this.getLocalData(g);d.isUndefined(i.cover)&amp;&amp;(i.cover=1,i.isClosed=0,i.timeLimit=0,i.quality=&quot;nor,hig,sup&quot;,i.channelNum=680),d.isUndefined(i.cid)&amp;&amp;(i.cid=&quot;&quot;),b(i)}else{g=parseInt(g,10),isNaN(g)&amp;&amp;(g=&quot;0&quot;);var j=&quot;http://m.tv.sohu.com/h5/cooperation/&quot;+g+&quot;.json?pos=1&amp;platform=&quot;+f.getUserPt()+&quot;&amp;callback=?&quot;;console.log(&quot;获取下载链接ajax:&quot;,j);var k=new Date;k.setHours(0),k.setMinutes(0),k.setSeconds(0),d.ajax({data:{t:k.getTime()},url:j,type:&quot;get&quot;,dataType:&quot;jsonp&quot;,success:function(a){if(&quot;undefined&quot;!=typeof a&amp;&amp;a.records&amp;&amp;a.records.length&gt;0){var d=a.records[0];e.IsIpad||e.IsIphone||e.IsWeixinBrowser||(h.appointUrl=d.link),h.startapp=&quot;undefined&quot;!=typeof d.startapp?d.startapp+&quot;&quot;:&quot;1&quot;,h.cover=d.cover,h.isClosed=d.isClosed,h.cid=d.cid||&quot;&quot;,h.timeLimit=d.time_limit,h.quality=d.quality,h.channelNum=d.num,c.setLocalData(h)}b(h)},error:function(){b(h)}})}},getDownloadUrl:function(a,b){if(b=&quot;function&quot;==typeof b?b:function(){},a&amp;&amp;a.downUrl)b(a.downUrl);else{var c=a&amp;&amp;a.channelSrc||this.channelSrc,d=this.getLocalData(c);null!==d?b(d.appointUrl):this.getChannelInfo(a,function(a){b(a.appointUrl)})}},gotoDownload:function(a){this.getDownloadUrl(a,function(b){if(&quot;&quot;!==b){var c=a&amp;&amp;a.delayTime?a.delayTime:h.openTime;setTimeout(function(){window.location.href=b},c)}})}};c.exports=h}),svp.define(&quot;data.copyright&quot;,function(a,b,c){var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;data.apiCommon&quot;),g=a(&quot;player.errorTypes&quot;),h={},i=&quot;http://api.tv.sohu.com/mobile_user/device/clientconf.json&quot;,j=function(a,b){d.ajax({url:i,data:a,dataType:&quot;jsonp&quot;,success:b,error:b})};h.check=function(a,b){var c={result:!1,code:&quot;200&quot;,msg:g.COPYRIGHT[200]};if(b=d.isFunction(b)?b:function(){},d.isUndefined(a))b(c);else{var h=a.fee||a.apiData&amp;&amp;a.apiData.fee||0;if((&quot;2&quot;==a.mobileLimit||&quot;1&quot;==a.h5Limit||&quot;0&quot;!=h)&amp;&amp;(c.result=!1,c.code=&quot;100&quot;,c.msg=g.COPYRIGHT[100],b(c)),&quot;2&quot;==a.h5Limit&amp;&amp;(c.result=!1,c.code=&quot;101&quot;,c.msg=g.COPYRIGHT[101],b(c)),&quot;1&quot;==a.ipLimit){var i={};d.extend(i,f.API_PARAMS,{from:&quot;h5&quot;,poid:&quot;1&quot;,sysver:e.OsVersion||&quot;0&quot;}),j(i,function(a){a.data&amp;&amp;&quot;1&quot;==a.data.iplimit?(c.result=!1,c.code=&quot;100&quot;,c.msg=g.COPYRIGHT[100]):(c.result=!0,c.code=&quot;200&quot;,c.msg=g.COPYRIGHT[200]),b(c)})}else b(c)}},c.exports=h}),svp.define(&quot;data.liveInfo&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;data.apiAjaxLoader&quot;),g={globalCfg:{vid:&quot;&quot;,liveId:&quot;&quot;},loadHLSUrlByLiveId:function(a,b){var c={},h={},i={},j=d.Deferred();d.extend(d.extend(c,g.globalCfg),a),c.liveId=0===parseInt(c.liveId,10)||&quot;&quot;===c.liveId?147:c.liveId,i.api_key=a.api_key,i.plat=a.plat,i.sver=a.sver,i.partner=a.partner;var k=e.API_LIVE_URL+&quot;live/v1/stations/&quot;+c.liveId+&quot;?callback=?&quot;;return f.loader({url:k,data:i,dataType:&quot;jsonp&quot;}).done(function(a){if(!a.tvStation&amp;&amp;!a.tvStation.id)return{};var c=a.tvStation;return h.liveId=c.id||&quot;147&quot;,h.liveName=c.name||&quot;&quot;,h.liveUrl=c.liveUrl||&quot;http://gslb.tv.sohu.com/live?cid=31&amp;ver=seg&amp;ckey=fME9d6wsjgYrRr&amp;type=hls&amp;prot=1&amp;sig=PUP10dOmmowJw8sLRjPStw..&amp;type=hls&quot;,h.liveIcon=c.iconBigPic||&quot;&quot;,h.liveEnName=c.enName||&quot;&quot;,h.ipLimit=c.ipLimit||&quot;0&quot;,j.resolve(),b&amp;&amp;d.isFunction(b)?void b(h):h}).fail(function(){j.reject()}),j}};c.exports={getData:g.loadHLSUrlByLiveId}}),svp.define(&quot;data.recommend&quot;,function(a,b,c){var d=a(&quot;data.apiAjaxLoader&quot;),e={url:&quot;http://api.tv.sohu.com/v4/search/top.json&quot;,page_size:16,page:1,playerRecommendUrl:&quot;http://api.tv.sohu.com/v4/search/recommend.json&quot;,playerRecommendPageSize:6,playerRecommendPage:1,getTopData:function(a,b){var c={cid:a.cid||1,o:a.o||10,page_size:a.page_size||e.page_size,page:a.page||e.page};d.loader({url:e.url,data:c,dataType:&quot;jsonp&quot;}).done(function(a){if(a&amp;&amp;200==a.status){var c=a.data;c&amp;&amp;b&amp;&amp;&quot;function&quot;==typeof b&amp;&amp;b(c)}})},getRecommendData:function(a,b){a.vid=&quot;source&quot;==a.vid?1:a.vid;var c={vid:a.vid||&quot;&quot;,cid:a.cid||1,page_size:a.page_size||e.playerRecommendPageSize,page:a.page||e.playerRecommendPage};d.loader({url:e.playerRecommendUrl,data:c,dataType:&quot;jsonp&quot;}).done(function(a){if(a&amp;&amp;200==a.status){var c=a.data;if(c){if(!b||&quot;function&quot;!=typeof b)return c;b(c)}}})},getDataByType:function(a,b,c){&quot;recommend&quot;===a?e.getRecommendData(b,c):e.getTopData(b,c)}};c.exports={getData:e.getDataByType}}),svp.videoData=svp.videoData||{},svp.define(&quot;data.videoInfo&quot;,function(a,b,c){&quot;use strict&quot;;var d=svp.$,e=a(&quot;base.vars&quot;),f=a(&quot;base.url&quot;),g=a(&quot;data.apiAjaxLoader&quot;),h=a(&quot;data.apiCommon&quot;),i={fotmatBasicParams:function(a,b,c,d){return b&amp;&amp;b[d]?b[d]:a[c?c:d]||&quot;&quot;},formatPlayUrl:function(a){if(&quot;string&quot;==typeof a&amp;&amp;&quot;&quot;!==a){var b=a.split(&quot;,&quot;);return b=b.length&gt;0&amp;&amp;&quot;&quot;!==b[0]?b:[]}return&quot;&quot;},getParamsOption:function(a,b,c){a=a||{};var d=a.vid||f.getQueryString(&quot;vid&quot;),e=a.site||f.getQueryString(&quot;site&quot;);if(a.vid=d?d:&quot;&quot;,a.site=e?e:1,b&amp;&amp;(a[b]=a[b]?a[b]||f.getQueryString(b):c),f.getQueryString(&quot;aid&quot;))try{a.aid=parseInt(f.getQueryString(&quot;aid&quot;),10)}catch(g){}return a},formatVideoData:function(a,b){var c=this,e=a,f=b,g=c.getVideoUrls(b),h=&quot;&quot;;b&amp;&amp;b.aid&amp;&amp;(h=b.aid||&quot;&quot;);var i=d.extend(!0,f,e);i.vid=a.vid?a.vid:b.vid||&quot;&quot;,i.tvid=a.tvid?a.tvid:b.tv_id||&quot;&quot;,i.nid=a.nid?a.nid:b.nid||&quot;&quot;,i.sid=a.sid?a.sid:b.aid||h,i.plid=a.plid?a.plid:b.aid||h,i.tvname=b.video_name||this.fotmatBasicParams(a,b,&quot;tvname&quot;,&quot;tv_name&quot;)||&quot;&quot;,i.tips=b.tip||this.fotmatBasicParams(a,b,&quot;tips&quot;,&quot;tip&quot;)||&quot;&quot;,i.videoCount=a.videoCount?a.videoCount:b.video_count||0,i.videoOrder=a.videoOrder?a.videoOrder:b.video_order||1,i.totalSet=a.totalSet?a.totalSet:b.total_video_count||0,i.cateCode=a.cateCode?a.cateCode:b.cate_code||&quot;&quot;,i.setListPageSize=a.setListPageSize?a.setListPageSize:20,i.startTime=a.startTime?a.startTime:b.start_time||0,i.endTime=a.endTime?a.endTime:b.end_time||0,i.totalDuration=a.totalDuration?a.totalDuration:b.total_duration||0,i.downloadSize=a.downloadSize?a.downloadSize:b.file_size_mobile||0,i.playCount=a.playCount?a.playCount:b.play_count||0,i.showDate=a.showDate?a.showDate:b.show_date||&quot;&quot;,i.isAds=a.isAds?a.isAds:b.is_ads||0,i.ipLimit=a.ipLimit?a.ipLimit:b.ip_limit||0,i.mobileLimit=a.mobileLimit?a.mobileLimit:b.mobile_limit||0,i.h5Limit=a.h5Limit?a.h5Limit:b.h5_limit||0,i.areaId=a.areaId?a.areaId:b.area_id||6,i.verHighPic=this.fotmatBasicParams(a,b,&quot;verHighPic&quot;,&quot;ver_high_pic&quot;)||b.video_big_pic||b.ver_big_pic||&quot;&quot;,i.horHighPic=this.fotmatBasicParams(a,b,&quot;horHighPic&quot;,&quot;hor_high_pic&quot;)||b.video_big_pic||b.hor_big_pic||&quot;&quot;,i=d.extend(!0,i,g);var j=[&quot;ip_limit&quot;,&quot;mobile_limit&quot;,&quot;clips_duration_nor&quot;,&quot;clips_duration_high&quot;,&quot;clips_bytes_high&quot;,&quot;clips_bytes_nor&quot;,&quot;clips_bytes_super&quot;,&quot;clips_duration_super&quot;,&quot;url_nor&quot;,&quot;url_high&quot;,&quot;url_super&quot;,&quot;url_nor_mp4&quot;,&quot;url_high_mp4&quot;,&quot;url_super_mp4&quot;];return d.each(j,function(a,b){i.hasOwnProperty(b)&amp;&amp;delete i[b]}),i},getVideoUrls:function(a){var b={};return b.durations={nor:a&amp;&amp;a.hasOwnProperty(&quot;clips_duration_nor&quot;)?this.formatPlayUrl(a.clips_duration_nor):[],hig:a&amp;&amp;a.hasOwnProperty(&quot;clips_duration_high&quot;)?this.formatPlayUrl(a.clips_duration_high):[],sup:a&amp;&amp;a.hasOwnProperty(&quot;clips_duration_super&quot;)?this.formatPlayUrl(a.clips_duration_super):[]},b.urls={m3u8:{nor:a&amp;&amp;a.hasOwnProperty(&quot;url_nor&quot;)?this.formatPlayUrl(a.url_nor):[],hig:a&amp;&amp;a.hasOwnProperty(&quot;url_high&quot;)?this.formatPlayUrl(a.url_high):[],sup:a&amp;&amp;a.hasOwnProperty(&quot;url_super&quot;)?this.formatPlayUrl(a.url_super):[]},mp4:{nor:a&amp;&amp;a.hasOwnProperty(&quot;url_nor_mp4&quot;)?this.formatPlayUrl(a.url_nor_mp4):[],hig:a&amp;&amp;a.hasOwnProperty(&quot;url_high_mp4&quot;)?this.formatPlayUrl(a.url_high_mp4):[],sup:a&amp;&amp;a.hasOwnProperty(&quot;url_super_mp4&quot;)?this.formatPlayUrl(a.url_super_mp4):[]},downloadUrl:a&amp;&amp;a.hasOwnProperty(&quot;download_url&quot;)?this.formatPlayUrl(a.download_url):[]},b},loadVideoUrlByVid:function(a,b){var c=i,f={},j={},k=a.vid||&quot;&quot;,l=a.site,m=a.aid||&quot;&quot;;if(a=c.getParamsOption(a),&quot;&quot;===k)return void console.log(&quot;videoinfo vid is null &quot;);j.api_key=a.api_key,j.plat=a.plat,j.sver=a.sver,j.partner=a.partner,j.site=l;var n={site:l};m&amp;&amp;(n.aid=m);var o=e.API_URL+&quot;v4/video/info/&quot;+k+&quot;.json?callback=?&quot;,p=d.Deferred();return g.loader({url:o,data:j,dataType:&quot;jsonp&quot;}).done(function(g){if(g.data){if(f=c.formatVideoData(a,g.data),svp.videoData=f,p.resolve(),!b||!d.isFunction(b))return f;b(f)}else{var i=1===l||&quot;1&quot;===l?2:1,j=e.API_URL+&quot;v4/video/info/&quot;+k+&quot;.json?callback=?&amp;&quot;+d.param(d.extend({},h.API_PARAMS,{site:i}));d.ajax({url:j,dataType:&quot;jsonp&quot;,success:function(e){if(e&amp;&amp;e.data){if(f=c.formatVideoData(a,e.data),svp.videoData=f,p.resolve(),!b||!d.isFunction(b))return f;b(f)}},error:function(){p.reject()}})}}).fail(function(){p.reject()}),p}};c.exports={getData:i.loadVideoUrlByVid}});
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
